2018-12-25 14:54:35.565 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 14:54:35.616 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 14:54:35.616 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 14:54:35.616 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 14:54:35.616 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 14:54:35.616 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 14:54:35.616 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 14:54:44.527 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 14:54:44.530 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 14:54:44.530 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 14:54:44.530 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 14:54:44.530 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 14:54:44.530 +03:00 [DBG] Error Url: /home/error
2018-12-25 14:54:44.530 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 14:54:48.775 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-12-25 14:55:09.316 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 14:55:09.720 +03:00 [DBG] Augmenting SignInContext
2018-12-25 14:55:09.722 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 14:55:09.722 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 14:55:09.723 +03:00 [DBG] Adding auth_time claim with value: 1545738909
2018-12-25 14:55:09.736 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 14:55:09.796 +03:00 [DBG] 0 persisted grants found for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 15:59:59.465 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 15:59:59.528 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 15:59:59.528 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 15:59:59.528 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 15:59:59.528 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 15:59:59.528 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 15:59:59.528 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 16:00:00.453 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The MetadataAddress or Authority must use HTTPS unless disabled for development by setting RequireHttpsMetadata=false.
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectPostConfigureOptions.PostConfigure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 16:00:58.006 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 16:00:58.060 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 16:00:58.060 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 16:00:58.061 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 16:00:58.061 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 16:00:58.061 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 16:00:58.061 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 16:01:01.317 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 16:01:01.320 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 16:01:01.320 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 16:01:01.320 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 16:01:01.320 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 16:01:01.320 +03:00 [DBG] Error Url: /home/error
2018-12-25 16:01:01.321 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 16:01:07.365 +03:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 16:01:07.429 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 16:01:07.429 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 16:01:07.430 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 16:01:10.498 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-12-25 16:06:33.854 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 16:06:33.920 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 16:06:33.921 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 16:06:33.921 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 16:06:33.921 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 16:06:33.921 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 16:06:33.921 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 16:06:53.056 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 16:06:53.058 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 16:06:53.059 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 16:06:53.059 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 16:06:53.059 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 16:06:53.059 +03:00 [DBG] Error Url: /home/error
2018-12-25 16:06:53.059 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 16:06:53.336 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'OpenIdConnect'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, idsrv, idsrv.external, Azure AD, Google. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("OpenIdConnect",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 16:15:48.332 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: IDX20803: Unable to obtain configuration from: '[PII is hidden]'. ---> System.IO.IOException: IDX20804: Unable to retrieve document from: '[PII is hidden]'. ---> System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectConfigurationRetriever.GetAsync(String address, IDocumentRetriever retriever, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:06:38.686 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 17:06:38.747 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 17:06:38.747 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 17:06:38.747 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 17:06:38.747 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 17:06:38.747 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 17:06:38.748 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 17:08:31.375 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:10:05.320 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 17:10:05.375 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 17:10:05.376 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 17:10:05.376 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 17:10:05.376 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 17:10:05.376 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 17:10:05.376 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 17:47:50.930 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:47:50.930 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:48:00.846 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:49:39.221 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 17:49:39.313 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 17:49:39.313 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 17:49:39.313 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 17:49:39.313 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 17:49:39.313 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 17:49:39.314 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 17:49:48.017 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:49:50.138 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:49:51.233 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 17:50:32.843 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 18:05:54.538 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 18:09:06.054 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 18:16:17.130 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 18:16:17.187 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 18:16:17.187 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 18:16:17.187 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 18:16:17.188 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 18:16:17.188 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 18:16:17.188 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 18:18:12.155 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 18:18:12.219 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 18:18:12.219 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 18:18:12.219 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 18:18:12.219 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 18:18:12.219 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 18:18:12.219 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 18:19:06.472 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 18:19:06.528 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 18:19:06.528 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 18:19:06.528 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 18:19:06.528 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 18:19:06.529 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 18:19:06.529 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 18:24:51.257 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 18:24:51.312 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 18:24:51.312 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 18:24:51.312 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 18:24:51.312 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 18:24:51.312 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 18:24:51.312 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 18:25:37.818 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: uriString
   at System.Uri..ctor(String uriString)
   at Microsoft.AspNetCore.Authentication.AzureAD.UI.OpenIdConnectOptionsConfiguration.Configure(String name, OpenIdConnectOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-25 18:28:33.940 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 18:28:33.996 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 18:28:34.002 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 18:28:34.003 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 18:28:34.003 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 18:28:34.003 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 18:28:34.003 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 18:28:42.722 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 18:28:42.724 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 18:28:42.724 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 18:28:42.724 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 18:28:42.724 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 18:28:42.724 +03:00 [DBG] Error Url: /home/error
2018-12-25 18:28:42.724 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 18:28:42.750 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 18:28:42.772 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 18:28:42.772 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 18:28:42.776 +03:00 [DBG] Start discovery request
2018-12-25 18:28:43.455 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 18:28:43.577 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 18:28:43.578 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 18:28:43.578 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 18:28:43.583 +03:00 [DBG] Start key discovery request
2018-12-25 18:28:43.673 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:28:43.678 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:28:43.678 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:28:43.683 +03:00 [DBG] Start authorize request
2018-12-25 18:28:43.698 +03:00 [DBG] No user present in authorize request
2018-12-25 18:28:43.704 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:28:44.047 +03:00 [DBG] northwind found in database: true
2018-12-25 18:28:44.055 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:28:44.115 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:44.163 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:44.174 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:44.176 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:44.184 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:28:44.196 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwRDEvuN0yOzgGKyHK6ml11XLYaZQe4K5Wi0bB2JYdbHcXaeGQyPqKp3izUCMXh9y3gqSwVWl1f3d9ug3AK74jkxynkSxA8Vjl1Agn3ZoEnn9SZXnf7vk0lARKj6V6BhUoySovYdYXWguU0bDfV736HDudaQVNI8LyOMQe5osqqzikPp7winMHvFOUwyp7ipGRjKX1igUjQewgg6zY87H8ito7Ugb6AT3JBiUG0DPVfbrU5AViC3HCq_-8kpbjefwHcDDVwoXLoIcOkJxbLSK98zojvzmyyr6zrjvDtC5f9_Oeo8iMik62e2Q51O6gvpM","UiLocales":null,"Nonce":"636813485236160070.ZjFiYjdkYTEtOWI0MS00MTk4LThiODYtYzNiZjJmOTE3NmI4ZjNkNmFiZjMtNmU3NC00NmE3LTgxOGQtOTRhYmU1ZmI5ODli","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813485236160070.ZjFiYjdkYTEtOWI0MS00MTk4LThiODYtYzNiZjJmOTE3NmI4ZjNkNmFiZjMtNmU3NC00NmE3LTgxOGQtOTRhYmU1ZmI5ODli","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwRDEvuN0yOzgGKyHK6ml11XLYaZQe4K5Wi0bB2JYdbHcXaeGQyPqKp3izUCMXh9y3gqSwVWl1f3d9ug3AK74jkxynkSxA8Vjl1Agn3ZoEnn9SZXnf7vk0lARKj6V6BhUoySovYdYXWguU0bDfV736HDudaQVNI8LyOMQe5osqqzikPp7winMHvFOUwyp7ipGRjKX1igUjQewgg6zY87H8ito7Ugb6AT3JBiUG0DPVfbrU5AViC3HCq_-8kpbjefwHcDDVwoXLoIcOkJxbLSK98zojvzmyyr6zrjvDtC5f9_Oeo8iMik62e2Q51O6gvpM","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:28:44.214 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 18:28:44.384 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:28:44.395 +03:00 [DBG] northwind found in database: true
2018-12-25 18:28:44.395 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:28:44.398 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:44.400 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:44.403 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:44.404 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:44.404 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:28:44.417 +03:00 [DBG] northwind found in database: true
2018-12-25 18:28:44.417 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:28:54.364 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 18:28:54.404 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:28:54.414 +03:00 [DBG] northwind found in database: true
2018-12-25 18:28:54.414 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:28:54.418 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:54.419 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:54.423 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:54.424 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:54.425 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:28:54.737 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:28:54.740 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 18:28:54.740 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 18:28:54.740 +03:00 [DBG] Adding auth_time claim with value: 1545751734
2018-12-25 18:28:54.754 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:28:54.774 +03:00 [DBG] northwind found in database: true
2018-12-25 18:28:54.774 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:28:54.815 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 18:28:54.815 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 18:28:54.815 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 18:28:54.821 +03:00 [DBG] Start authorize callback request
2018-12-25 18:28:54.827 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:28:54.827 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:28:54.837 +03:00 [DBG] northwind found in database: true
2018-12-25 18:28:54.838 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:28:54.841 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:54.843 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:54.846 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:28:54.848 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:28:54.848 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:28:54.848 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwRDEvuN0yOzgGKyHK6ml11XLYaZQe4K5Wi0bB2JYdbHcXaeGQyPqKp3izUCMXh9y3gqSwVWl1f3d9ug3AK74jkxynkSxA8Vjl1Agn3ZoEnn9SZXnf7vk0lARKj6V6BhUoySovYdYXWguU0bDfV736HDudaQVNI8LyOMQe5osqqzikPp7winMHvFOUwyp7ipGRjKX1igUjQewgg6zY87H8ito7Ugb6AT3JBiUG0DPVfbrU5AViC3HCq_-8kpbjefwHcDDVwoXLoIcOkJxbLSK98zojvzmyyr6zrjvDtC5f9_Oeo8iMik62e2Q51O6gvpM","UiLocales":null,"Nonce":"636813485236160070.ZjFiYjdkYTEtOWI0MS00MTk4LThiODYtYzNiZjJmOTE3NmI4ZjNkNmFiZjMtNmU3NC00NmE3LTgxOGQtOTRhYmU1ZmI5ODli","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"de591fbaf0b525d073dd9d7d50289cbb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813485236160070.ZjFiYjdkYTEtOWI0MS00MTk4LThiODYtYzNiZjJmOTE3NmI4ZjNkNmFiZjMtNmU3NC00NmE3LTgxOGQtOTRhYmU1ZmI5ODli","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwRDEvuN0yOzgGKyHK6ml11XLYaZQe4K5Wi0bB2JYdbHcXaeGQyPqKp3izUCMXh9y3gqSwVWl1f3d9ug3AK74jkxynkSxA8Vjl1Agn3ZoEnn9SZXnf7vk0lARKj6V6BhUoySovYdYXWguU0bDfV736HDudaQVNI8LyOMQe5osqqzikPp7winMHvFOUwyp7ipGRjKX1igUjQewgg6zY87H8ito7Ugb6AT3JBiUG0DPVfbrU5AViC3HCq_-8kpbjefwHcDDVwoXLoIcOkJxbLSK98zojvzmyyr6zrjvDtC5f9_Oeo8iMik62e2Q51O6gvpM","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:28:54.880 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:28:54.889 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:28:54.899 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:28:54.981 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwRDEvuN0yOzgGKyHK6ml11XLYaZQe4K5Wi0bB2JYdbHcXaeGQyPqKp3izUCMXh9y3gqSwVWl1f3d9ug3AK74jkxynkSxA8Vjl1Agn3ZoEnn9SZXnf7vk0lARKj6V6BhUoySovYdYXWguU0bDfV736HDudaQVNI8LyOMQe5osqqzikPp7winMHvFOUwyp7ipGRjKX1igUjQewgg6zY87H8ito7Ugb6AT3JBiUG0DPVfbrU5AViC3HCq_-8kpbjefwHcDDVwoXLoIcOkJxbLSK98zojvzmyyr6zrjvDtC5f9_Oeo8iMik62e2Q51O6gvpM","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:28:55.000 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:28:55.001 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:29:00.177 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:29:00.177 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:29:00.177 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:29:00.177 +03:00 [DBG] Start authorize request
2018-12-25 18:29:00.177 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:29:00.177 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:29:00.200 +03:00 [DBG] northwind found in database: true
2018-12-25 18:29:00.200 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:29:00.209 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:00.211 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:00.215 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:00.218 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:00.218 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:29:00.219 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uRp6vGrn91T0o2Q7IUZ6KKWlsOcjg4Xrvlg54aRSFIwc4Dxei_FQ6iNpWloSbUD4-p0Y2VTdONxy8tV1jGA6Hj5sjfIr3MmpEuDqkd6q0uirf-7pDGzZ9YYhhhCeUyz5pZCb4xfg3v1hPj9eoXCoc_HNmZ45Pp0wShZEpPqJ6MWpgjT7M7V2V8nZKThG3FwL9wBdWp3QE16zxos9ksE3NDQvvNERgWIYP50T58iTd6_efkcqwgM3mIykH1vIHyUD2mAt45P3lv2mcAAF9_zmxoi8zHRJ-UIw4t6_NUTRlSYj-P6Id3IqKkgkULBaaZMbc","UiLocales":null,"Nonce":"636813485401644410.ZDZhNGNkYjUtOWRkZC00NGI3LTkwMjQtNzQ1MDg4YWM4MjJlZTY2NDJlM2YtYzRhMi00MDU1LTllMjMtNjA1ZmMwZDRhZGUy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"de591fbaf0b525d073dd9d7d50289cbb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813485401644410.ZDZhNGNkYjUtOWRkZC00NGI3LTkwMjQtNzQ1MDg4YWM4MjJlZTY2NDJlM2YtYzRhMi00MDU1LTllMjMtNjA1ZmMwZDRhZGUy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uRp6vGrn91T0o2Q7IUZ6KKWlsOcjg4Xrvlg54aRSFIwc4Dxei_FQ6iNpWloSbUD4-p0Y2VTdONxy8tV1jGA6Hj5sjfIr3MmpEuDqkd6q0uirf-7pDGzZ9YYhhhCeUyz5pZCb4xfg3v1hPj9eoXCoc_HNmZ45Pp0wShZEpPqJ6MWpgjT7M7V2V8nZKThG3FwL9wBdWp3QE16zxos9ksE3NDQvvNERgWIYP50T58iTd6_efkcqwgM3mIykH1vIHyUD2mAt45P3lv2mcAAF9_zmxoi8zHRJ-UIw4t6_NUTRlSYj-P6Id3IqKkgkULBaaZMbc","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:29:00.225 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:29:00.225 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:29:00.225 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:29:00.243 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uRp6vGrn91T0o2Q7IUZ6KKWlsOcjg4Xrvlg54aRSFIwc4Dxei_FQ6iNpWloSbUD4-p0Y2VTdONxy8tV1jGA6Hj5sjfIr3MmpEuDqkd6q0uirf-7pDGzZ9YYhhhCeUyz5pZCb4xfg3v1hPj9eoXCoc_HNmZ45Pp0wShZEpPqJ6MWpgjT7M7V2V8nZKThG3FwL9wBdWp3QE16zxos9ksE3NDQvvNERgWIYP50T58iTd6_efkcqwgM3mIykH1vIHyUD2mAt45P3lv2mcAAF9_zmxoi8zHRJ-UIw4t6_NUTRlSYj-P6Id3IqKkgkULBaaZMbc","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:29:04.389 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:29:04.389 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:29:04.389 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:29:04.389 +03:00 [DBG] Start authorize request
2018-12-25 18:29:04.389 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:29:04.389 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:29:04.401 +03:00 [DBG] northwind found in database: true
2018-12-25 18:29:04.401 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:29:04.406 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:04.408 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:04.411 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:04.412 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:04.412 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:29:04.413 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tT3SIvPakT2zw0vNuxGy9KMxIW0W3AMFGjAkEaMX_62eqUZoC1J3uQaI_M0lr1E8nc0ghoefIjC4pWQ_CKbN3IUMalUku5PplcERDAEUmw3bAaecrt1cXw2bTdB7UzsptvoKiwVOwmwrZgc3CxR-Wwp6uxDKfe0kDY62J0m-oLh98PUTZqC8fIPXvSXWsJWQ_W-i0IDJ2fO4x9czml9LZ23j-cTEuriQ7nrarvAsvtcUysPO0jMuBe67Z_NPmEjtqZTDQQ2nMPrQyeJwNYS0D_nyLex-LkNrHOz-EF2e6Ap9bRX-8FlCYNhOdIosfIdQY","UiLocales":null,"Nonce":"636813485443740640.NTVlMThhNmEtZDFiMi00ZTM4LTg2N2ItOWI0NjZkYjI2NmE3MDNjMDlmN2QtNWZlNS00YTU1LTkyNTYtNWFiMTQyZDZmZDY2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"de591fbaf0b525d073dd9d7d50289cbb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813485443740640.NTVlMThhNmEtZDFiMi00ZTM4LTg2N2ItOWI0NjZkYjI2NmE3MDNjMDlmN2QtNWZlNS00YTU1LTkyNTYtNWFiMTQyZDZmZDY2","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95tT3SIvPakT2zw0vNuxGy9KMxIW0W3AMFGjAkEaMX_62eqUZoC1J3uQaI_M0lr1E8nc0ghoefIjC4pWQ_CKbN3IUMalUku5PplcERDAEUmw3bAaecrt1cXw2bTdB7UzsptvoKiwVOwmwrZgc3CxR-Wwp6uxDKfe0kDY62J0m-oLh98PUTZqC8fIPXvSXWsJWQ_W-i0IDJ2fO4x9czml9LZ23j-cTEuriQ7nrarvAsvtcUysPO0jMuBe67Z_NPmEjtqZTDQQ2nMPrQyeJwNYS0D_nyLex-LkNrHOz-EF2e6Ap9bRX-8FlCYNhOdIosfIdQY","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:29:04.418 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:29:04.418 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:29:04.418 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:29:04.436 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tT3SIvPakT2zw0vNuxGy9KMxIW0W3AMFGjAkEaMX_62eqUZoC1J3uQaI_M0lr1E8nc0ghoefIjC4pWQ_CKbN3IUMalUku5PplcERDAEUmw3bAaecrt1cXw2bTdB7UzsptvoKiwVOwmwrZgc3CxR-Wwp6uxDKfe0kDY62J0m-oLh98PUTZqC8fIPXvSXWsJWQ_W-i0IDJ2fO4x9czml9LZ23j-cTEuriQ7nrarvAsvtcUysPO0jMuBe67Z_NPmEjtqZTDQQ2nMPrQyeJwNYS0D_nyLex-LkNrHOz-EF2e6Ap9bRX-8FlCYNhOdIosfIdQY","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:29:07.270 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:29:07.270 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:29:07.270 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:29:07.270 +03:00 [DBG] Start authorize request
2018-12-25 18:29:07.270 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:29:07.270 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:29:07.282 +03:00 [DBG] northwind found in database: true
2018-12-25 18:29:07.282 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:29:07.286 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:07.288 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:07.292 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:07.293 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:07.293 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:29:07.293 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tHK6FIGDW2dCDIQGeMkCM050KQ3701j8ZrpoMMX7BSkgPwdP2RuK0usj636Uy3NW0Vcmnr0D3nRoDJmMX_BE1I4wrZPDYyhq2WX4HzTMUzUI-RHe477_-PABm-LSk75i4WPKpy182fdwJzx5hYdM2FOkyQBvm0gnQgYUAsV0kNsTJdKLIfnPq4R4VEpkEUX9JINhbIhXciyigRZPSMRot9WwhsjZBxcQ0hTiXO_ePeh6TBN3cMq0HkXibj7yRbxSGCVk0BCWgDtgz7cFjiJ82aOca9Ai3FkjF2iuei9JjQzrdleNuiJhwIYaLWD2MagBY","UiLocales":null,"Nonce":"636813485472581000.NWNmMTM5OGMtYzg3NC00MDc0LTgwMzctMDVmNDBjNmZkYTM3ZTVhZjk0YTAtYWFjMS00YmQ0LTg3Y2EtNGY2ZjY0ZjlmMTM2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"de591fbaf0b525d073dd9d7d50289cbb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813485472581000.NWNmMTM5OGMtYzg3NC00MDc0LTgwMzctMDVmNDBjNmZkYTM3ZTVhZjk0YTAtYWFjMS00YmQ0LTg3Y2EtNGY2ZjY0ZjlmMTM2","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95tHK6FIGDW2dCDIQGeMkCM050KQ3701j8ZrpoMMX7BSkgPwdP2RuK0usj636Uy3NW0Vcmnr0D3nRoDJmMX_BE1I4wrZPDYyhq2WX4HzTMUzUI-RHe477_-PABm-LSk75i4WPKpy182fdwJzx5hYdM2FOkyQBvm0gnQgYUAsV0kNsTJdKLIfnPq4R4VEpkEUX9JINhbIhXciyigRZPSMRot9WwhsjZBxcQ0hTiXO_ePeh6TBN3cMq0HkXibj7yRbxSGCVk0BCWgDtgz7cFjiJ82aOca9Ai3FkjF2iuei9JjQzrdleNuiJhwIYaLWD2MagBY","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:29:07.299 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:29:07.299 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:29:07.299 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:29:07.316 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tHK6FIGDW2dCDIQGeMkCM050KQ3701j8ZrpoMMX7BSkgPwdP2RuK0usj636Uy3NW0Vcmnr0D3nRoDJmMX_BE1I4wrZPDYyhq2WX4HzTMUzUI-RHe477_-PABm-LSk75i4WPKpy182fdwJzx5hYdM2FOkyQBvm0gnQgYUAsV0kNsTJdKLIfnPq4R4VEpkEUX9JINhbIhXciyigRZPSMRot9WwhsjZBxcQ0hTiXO_ePeh6TBN3cMq0HkXibj7yRbxSGCVk0BCWgDtgz7cFjiJ82aOca9Ai3FkjF2iuei9JjQzrdleNuiJhwIYaLWD2MagBY","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:29:16.680 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:29:16.680 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:29:16.680 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:29:16.680 +03:00 [DBG] Start authorize request
2018-12-25 18:29:16.680 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:29:16.680 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:29:16.696 +03:00 [DBG] northwind found in database: true
2018-12-25 18:29:16.696 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:29:16.699 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:16.701 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:16.705 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:29:16.708 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:29:16.708 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:29:16.708 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sPQ50ZKGMth2nwuyANfUKwNcQasiad2_LW7OPfnKyPNj77OvmirsMpU4bcDcFmEi1crOGGaKAg9qFkoZPNeRD7S5zcFtx3kWldHSaHQ1ijZlSvHR6S6xCIKpjPQicK6ZcO7UeA9LO1dafZ5gBKO3it39BJjscffJXZ5W_wza1A1rny-JZa_7mmxX27MYaysVzc7LHCq7TfKFzuOALQksmse2xjaWOgmKVJEUmTwS6l-ZMi4TzMs8-9J5CoMrZiAzxET7E3z6hGEu3EuLh5FnEpLm8nxxKtIyLz09dBOdVCMbmfrJxY0xLh-ccm2GE1d_Q","UiLocales":null,"Nonce":"636813485566675240.MmExNTRiMTUtOWNkMC00OTY2LWE3MGUtN2NiNDY5NDFhMDVlYTQxOTYyNTQtNzBjZC00MDY4LTk2YmEtZTA1YzkxM2I3ZDg2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"de591fbaf0b525d073dd9d7d50289cbb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813485566675240.MmExNTRiMTUtOWNkMC00OTY2LWE3MGUtN2NiNDY5NDFhMDVlYTQxOTYyNTQtNzBjZC00MDY4LTk2YmEtZTA1YzkxM2I3ZDg2","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sPQ50ZKGMth2nwuyANfUKwNcQasiad2_LW7OPfnKyPNj77OvmirsMpU4bcDcFmEi1crOGGaKAg9qFkoZPNeRD7S5zcFtx3kWldHSaHQ1ijZlSvHR6S6xCIKpjPQicK6ZcO7UeA9LO1dafZ5gBKO3it39BJjscffJXZ5W_wza1A1rny-JZa_7mmxX27MYaysVzc7LHCq7TfKFzuOALQksmse2xjaWOgmKVJEUmTwS6l-ZMi4TzMs8-9J5CoMrZiAzxET7E3z6hGEu3EuLh5FnEpLm8nxxKtIyLz09dBOdVCMbmfrJxY0xLh-ccm2GE1d_Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:29:16.712 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:29:16.712 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:29:16.712 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:29:16.730 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sPQ50ZKGMth2nwuyANfUKwNcQasiad2_LW7OPfnKyPNj77OvmirsMpU4bcDcFmEi1crOGGaKAg9qFkoZPNeRD7S5zcFtx3kWldHSaHQ1ijZlSvHR6S6xCIKpjPQicK6ZcO7UeA9LO1dafZ5gBKO3it39BJjscffJXZ5W_wza1A1rny-JZa_7mmxX27MYaysVzc7LHCq7TfKFzuOALQksmse2xjaWOgmKVJEUmTwS6l-ZMi4TzMs8-9J5CoMrZiAzxET7E3z6hGEu3EuLh5FnEpLm8nxxKtIyLz09dBOdVCMbmfrJxY0xLh-ccm2GE1d_Q","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:29:58.665 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 18:29:58.667 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 18:29:58.667 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 18:29:58.667 +03:00 [DBG] Start discovery request
2018-12-25 18:29:58.678 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 18:29:58.748 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 18:29:58.749 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 18:29:58.749 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 18:29:58.749 +03:00 [DBG] Start key discovery request
2018-12-25 18:30:01.797 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:30:01.798 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:30:01.798 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:30:01.799 +03:00 [DBG] Start authorize request
2018-12-25 18:30:01.799 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:30:01.799 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:30:01.812 +03:00 [DBG] northwind found in database: true
2018-12-25 18:30:01.813 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:30:01.818 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:30:01.820 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:30:01.823 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:30:01.824 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:30:01.824 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:30:01.825 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vvbYBGUY-kTeg2tGmxc9LApp70AjGhbMxxDtLjlJ1uaEQUeHTtz23-FY9aHIrDfxG9DhJUmE4jYgj0u6A5zi5h_61jgWWjgRaswvD9dBHB_D4jDtbvNRblPmaPpSZF62t6teG0g27zwR7_-bf8HpF1NHpImdNtZZKnO4J07kF2X-EmjVYO7YprXWTLeLT_PhkOjRZDoeIYbnHvQGh9pvkIZn9N1tLtL-So4ThkpANud8B-iheBD6qNTNFHKvZEoNzvxmaa_KxLOEmb8CUg4El0ZdHjpabXi6inmjRcbscExl5z-R1ROjKvUKgxUSs8NLE","UiLocales":null,"Nonce":"636813486017865260.MjJlMTZlYjYtOWVhYi00Yjk0LWIzYjQtOTcwMzUzODVkMWUyZGNiZjUzNTktN2NhOS00NjY1LWIyZTQtOGUyZjQwNDY0ZmQw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"de591fbaf0b525d073dd9d7d50289cbb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813486017865260.MjJlMTZlYjYtOWVhYi00Yjk0LWIzYjQtOTcwMzUzODVkMWUyZGNiZjUzNTktN2NhOS00NjY1LWIyZTQtOGUyZjQwNDY0ZmQw","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vvbYBGUY-kTeg2tGmxc9LApp70AjGhbMxxDtLjlJ1uaEQUeHTtz23-FY9aHIrDfxG9DhJUmE4jYgj0u6A5zi5h_61jgWWjgRaswvD9dBHB_D4jDtbvNRblPmaPpSZF62t6teG0g27zwR7_-bf8HpF1NHpImdNtZZKnO4J07kF2X-EmjVYO7YprXWTLeLT_PhkOjRZDoeIYbnHvQGh9pvkIZn9N1tLtL-So4ThkpANud8B-iheBD6qNTNFHKvZEoNzvxmaa_KxLOEmb8CUg4El0ZdHjpabXi6inmjRcbscExl5z-R1ROjKvUKgxUSs8NLE","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:30:01.828 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:30:01.828 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:30:01.828 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:30:01.845 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vvbYBGUY-kTeg2tGmxc9LApp70AjGhbMxxDtLjlJ1uaEQUeHTtz23-FY9aHIrDfxG9DhJUmE4jYgj0u6A5zi5h_61jgWWjgRaswvD9dBHB_D4jDtbvNRblPmaPpSZF62t6teG0g27zwR7_-bf8HpF1NHpImdNtZZKnO4J07kF2X-EmjVYO7YprXWTLeLT_PhkOjRZDoeIYbnHvQGh9pvkIZn9N1tLtL-So4ThkpANud8B-iheBD6qNTNFHKvZEoNzvxmaa_KxLOEmb8CUg4El0ZdHjpabXi6inmjRcbscExl5z-R1ROjKvUKgxUSs8NLE","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:30:10.715 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:30:10.715 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:30:10.715 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:30:10.716 +03:00 [DBG] Start authorize request
2018-12-25 18:30:10.716 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:30:10.716 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:30:10.730 +03:00 [DBG] northwind found in database: true
2018-12-25 18:30:10.731 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:30:10.735 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:30:10.737 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:30:10.740 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:30:10.742 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:30:10.742 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:30:10.742 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwCsIPxCF7Brr99P0DzXqz0sypekaQyTfyGXQkpAJYVXj7JNS2y2TUqtYNW1Z7SQ8dTzaf6HsKH1V1nCwFghp_Oeb-tPD0VdPxW6LvHYQiQh4Vz7DsCxD4kFq6TSD5urCcy1REQHOuuTcn_IHn016d0sWCJ32uynHoVGimJmxBJdRRSfm8SUeNnSMjXFoSF2wsTRY6esGAvtMueeqPWfxP2Z3DCzSyiHTiW8Mv1QbM7idtMhGgDqFiFa-VttYt_QzVFnfRHym3LCOh3KJTz9x499CgWKGqfeaYor_66rvtwQM8sfU71nQrC-6BNRibblQ","UiLocales":null,"Nonce":"636813486107009790.YTEwZjQyMDYtYWUyNy00YzkxLWI0ZmYtNGRmMjNkZmFhOTg1NmFmMzM4NmEtMTVkNy00N2ZkLWE3NmEtMDE1MmMwM2ViMTA1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"de591fbaf0b525d073dd9d7d50289cbb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813486107009790.YTEwZjQyMDYtYWUyNy00YzkxLWI0ZmYtNGRmMjNkZmFhOTg1NmFmMzM4NmEtMTVkNy00N2ZkLWE3NmEtMDE1MmMwM2ViMTA1","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwCsIPxCF7Brr99P0DzXqz0sypekaQyTfyGXQkpAJYVXj7JNS2y2TUqtYNW1Z7SQ8dTzaf6HsKH1V1nCwFghp_Oeb-tPD0VdPxW6LvHYQiQh4Vz7DsCxD4kFq6TSD5urCcy1REQHOuuTcn_IHn016d0sWCJ32uynHoVGimJmxBJdRRSfm8SUeNnSMjXFoSF2wsTRY6esGAvtMueeqPWfxP2Z3DCzSyiHTiW8Mv1QbM7idtMhGgDqFiFa-VttYt_QzVFnfRHym3LCOh3KJTz9x499CgWKGqfeaYor_66rvtwQM8sfU71nQrC-6BNRibblQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:30:10.746 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:30:10.746 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:30:10.746 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:30:10.763 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vwCsIPxCF7Brr99P0DzXqz0sypekaQyTfyGXQkpAJYVXj7JNS2y2TUqtYNW1Z7SQ8dTzaf6HsKH1V1nCwFghp_Oeb-tPD0VdPxW6LvHYQiQh4Vz7DsCxD4kFq6TSD5urCcy1REQHOuuTcn_IHn016d0sWCJ32uynHoVGimJmxBJdRRSfm8SUeNnSMjXFoSF2wsTRY6esGAvtMueeqPWfxP2Z3DCzSyiHTiW8Mv1QbM7idtMhGgDqFiFa-VttYt_QzVFnfRHym3LCOh3KJTz9x499CgWKGqfeaYor_66rvtwQM8sfU71nQrC-6BNRibblQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:35:56.101 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 18:35:56.103 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 18:35:56.103 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 18:35:56.103 +03:00 [DBG] Start discovery request
2018-12-25 18:35:56.167 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 18:35:56.238 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 18:35:56.239 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 18:35:56.239 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 18:35:56.239 +03:00 [DBG] Start key discovery request
2018-12-25 18:35:56.288 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 18:35:56.290 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 18:35:56.290 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 18:35:56.295 +03:00 [DBG] Processing signout request for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:35:56.302 +03:00 [DBG] Start end session request validation
2018-12-25 18:35:56.308 +03:00 [DBG] Start identity token validation
2018-12-25 18:35:56.324 +03:00 [DBG] northwind found in database: true
2018-12-25 18:35:56.325 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:35:56.325 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 18:35:56.400 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 18:35:56.401 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545751810,"exp":1545752110,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813486107009790.YTEwZjQyMDYtYWUyNy00YzkxLWI0ZmYtNGRmMjNkZmFhOTg1NmFmMzM4NmEtMTVkNy00N2ZkLWE3NmEtMDE1MmMwM2ViMTA1","iat":1545751810,"sid":"de591fbaf0b525d073dd9d7d50289cbb","sub":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","auth_time":1545751734,"idp":"local","name":"Alice Smith","given_name":"Alice","family_name":"Smith","website":"http://alice.com","preferred_username":"alice","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 18:35:56.405 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vygvM8FDAC1-t-RybDD2eXExgIn7UjAD7L4Z82cSxicWeYPBBBAdDKHxcOfSP_PGIMWbBakIfzC9JT2pZ8h1uLD6XFE6OIJBL4Pr_qGgPDcdWqTOjjgC4n918v8QO4zFQ","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NTE4MTAsImV4cCI6MTU0NTc1MjExMCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNDg2MTA3MDA5NzkwLllURXdaalF5TURZdFlXVXlOeTAwWXpreExXSTBabVl0TkdSbU1qTmtabUZoT1RnMU5tRm1Nek00Tm1FdE1UVmtOeTAwTjJaa0xXRTNObUV0TURFMU1tTXdNMlZpTVRBMSIsImlhdCI6MTU0NTc1MTgxMCwic2lkIjoiZGU1OTFmYmFmMGI1MjVkMDczZGQ5ZDdkNTAyODljYmIiLCJzdWIiOiI3NTc1ZDg2NS1lZjQzLTQ4ZDktOWNiMC05ZTkxOWJkNTNiMmUiLCJhdXRoX3RpbWUiOjE1NDU3NTE3MzQsImlkcCI6ImxvY2FsIiwibmFtZSI6IkFsaWNlIFNtaXRoIiwiZ2l2ZW5fbmFtZSI6IkFsaWNlIiwiZmFtaWx5X25hbWUiOiJTbWl0aCIsIndlYnNpdGUiOiJodHRwOi8vYWxpY2UuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2UiLCJhbXIiOlsicHdkIl19.AYT9SIsgWm2YOMV6oumaveXLqRVE7Ayqo95ZUDkQJNCb-vJbJ0JjUhzq1ltGgrqkEE_2XET6ljnyDwPhz-Ts6PERoWrVArMICykirAaofZOW-iQNYr0HL1Ey6S0rpmwJ7XxcX1DBVt6gG-7ixQJKbHEjijNPYC_fv99VASNoFp-1KNHIA9iz_fmafgRiyR6BunHw5wCrXndsuK6e87rIIUaYY4YCeywAq8ixzPGzSZpVf7PuWGG4AAyZ6C0qU06_F1uWNCpOActEPq62cEFmW54P2zchzvClE8YqDn4EOV4g_hVhYDM-Dg_R84zAxzI4-UPh851VNkJmu-wAnsntvg","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vygvM8FDAC1-t-RybDD2eXExgIn7UjAD7L4Z82cSxicWeYPBBBAdDKHxcOfSP_PGIMWbBakIfzC9JT2pZ8h1uLD6XFE6OIJBL4Pr_qGgPDcdWqTOjjgC4n918v8QO4zFQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 18:35:56.407 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 18:35:56.459 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 18:35:56.460 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 18:35:56.460 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 18:35:56.546 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 18:35:56.549 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 18:35:56.549 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 18:35:56.555 +03:00 [DBG] Processing signout callback request
2018-12-25 18:35:56.578 +03:00 [DBG] northwind found in database: true
2018-12-25 18:35:56.578 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:35:56.579 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 18:35:56.579 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 18:35:56.579 +03:00 [INF] Successful signout callback.
2018-12-25 18:35:56.579 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 18:35:56.579 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 18:37:40.653 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:37:40.654 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:37:40.654 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:37:40.655 +03:00 [DBG] Start authorize request
2018-12-25 18:37:40.655 +03:00 [DBG] No user present in authorize request
2018-12-25 18:37:40.655 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:37:40.666 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:40.666 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:40.670 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:40.672 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:40.675 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:40.676 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:40.677 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:37:40.677 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sOah5yx1oB-KteH1hmy1cZ8ljSGQ0s208g5kGCoEeeR9b278jCAEocKR5bC6n_dLdRS7qYzbr9XNo2CTvj0IOMskJoSdO0qXut4-kQnVupYu1JmW-oJckz-XZ-zeD2lfE6LpsKiX0HGCibrepOSYleHDTyu__bLw_AArPdDoWHovs_qNGDdH-G7-B5acrQEG4t1921o9Xco5m3QI53gpoHKMG86xBFDDGHe6eXvl3hJVmMXg54eSpDibyfIM8C-2YQ-uvAU_-6_bQM32441lK-T6EusfTV6ZbQLv1v0VUzdSP3lkBIq_B7e5Q2-f6cg9A","UiLocales":null,"Nonce":"636813490606462090.NDU2OTAyODktMWM4My00MTQ3LTk2ODMtYTczMzNjZjQ4ZDE2ZjY1ZWQ1MWMtMTRiNS00NDFkLWExMTctNTM1MTI2YWJmNmYz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813490606462090.NDU2OTAyODktMWM4My00MTQ3LTk2ODMtYTczMzNjZjQ4ZDE2ZjY1ZWQ1MWMtMTRiNS00NDFkLWExMTctNTM1MTI2YWJmNmYz","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sOah5yx1oB-KteH1hmy1cZ8ljSGQ0s208g5kGCoEeeR9b278jCAEocKR5bC6n_dLdRS7qYzbr9XNo2CTvj0IOMskJoSdO0qXut4-kQnVupYu1JmW-oJckz-XZ-zeD2lfE6LpsKiX0HGCibrepOSYleHDTyu__bLw_AArPdDoWHovs_qNGDdH-G7-B5acrQEG4t1921o9Xco5m3QI53gpoHKMG86xBFDDGHe6eXvl3hJVmMXg54eSpDibyfIM8C-2YQ-uvAU_-6_bQM32441lK-T6EusfTV6ZbQLv1v0VUzdSP3lkBIq_B7e5Q2-f6cg9A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:37:40.678 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 18:37:40.687 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:37:40.698 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:40.698 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:40.702 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:40.703 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:40.707 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:40.708 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:40.708 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:37:40.717 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:40.717 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:48.356 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 18:37:48.373 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:37:48.397 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:48.397 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:48.405 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:48.409 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:48.412 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:48.414 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:48.414 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:37:48.442 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:37:48.442 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 18:37:48.443 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 18:37:48.443 +03:00 [DBG] Adding auth_time claim with value: 1545752268
2018-12-25 18:37:48.443 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:37:48.455 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:48.455 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:48.466 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 18:37:48.467 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 18:37:48.467 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 18:37:48.467 +03:00 [DBG] Start authorize callback request
2018-12-25 18:37:48.468 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:37:48.468 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:37:48.481 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:48.481 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:48.485 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:48.488 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:48.494 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:37:48.496 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:37:48.496 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:37:48.496 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sOah5yx1oB-KteH1hmy1cZ8ljSGQ0s208g5kGCoEeeR9b278jCAEocKR5bC6n_dLdRS7qYzbr9XNo2CTvj0IOMskJoSdO0qXut4-kQnVupYu1JmW-oJckz-XZ-zeD2lfE6LpsKiX0HGCibrepOSYleHDTyu__bLw_AArPdDoWHovs_qNGDdH-G7-B5acrQEG4t1921o9Xco5m3QI53gpoHKMG86xBFDDGHe6eXvl3hJVmMXg54eSpDibyfIM8C-2YQ-uvAU_-6_bQM32441lK-T6EusfTV6ZbQLv1v0VUzdSP3lkBIq_B7e5Q2-f6cg9A","UiLocales":null,"Nonce":"636813490606462090.NDU2OTAyODktMWM4My00MTQ3LTk2ODMtYTczMzNjZjQ4ZDE2ZjY1ZWQ1MWMtMTRiNS00NDFkLWExMTctNTM1MTI2YWJmNmYz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"35b8ed82fbfa35364d4f65da9dad2f50","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813490606462090.NDU2OTAyODktMWM4My00MTQ3LTk2ODMtYTczMzNjZjQ4ZDE2ZjY1ZWQ1MWMtMTRiNS00NDFkLWExMTctNTM1MTI2YWJmNmYz","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sOah5yx1oB-KteH1hmy1cZ8ljSGQ0s208g5kGCoEeeR9b278jCAEocKR5bC6n_dLdRS7qYzbr9XNo2CTvj0IOMskJoSdO0qXut4-kQnVupYu1JmW-oJckz-XZ-zeD2lfE6LpsKiX0HGCibrepOSYleHDTyu__bLw_AArPdDoWHovs_qNGDdH-G7-B5acrQEG4t1921o9Xco5m3QI53gpoHKMG86xBFDDGHe6eXvl3hJVmMXg54eSpDibyfIM8C-2YQ-uvAU_-6_bQM32441lK-T6EusfTV6ZbQLv1v0VUzdSP3lkBIq_B7e5Q2-f6cg9A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:37:48.507 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:37:48.508 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:37:48.508 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:37:48.537 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sOah5yx1oB-KteH1hmy1cZ8ljSGQ0s208g5kGCoEeeR9b278jCAEocKR5bC6n_dLdRS7qYzbr9XNo2CTvj0IOMskJoSdO0qXut4-kQnVupYu1JmW-oJckz-XZ-zeD2lfE6LpsKiX0HGCibrepOSYleHDTyu__bLw_AArPdDoWHovs_qNGDdH-G7-B5acrQEG4t1921o9Xco5m3QI53gpoHKMG86xBFDDGHe6eXvl3hJVmMXg54eSpDibyfIM8C-2YQ-uvAU_-6_bQM32441lK-T6EusfTV6ZbQLv1v0VUzdSP3lkBIq_B7e5Q2-f6cg9A","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:37:48.538 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:37:48.540 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:37:51.444 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 18:37:51.444 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 18:37:51.444 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 18:37:51.444 +03:00 [DBG] Processing signout request for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:37:51.444 +03:00 [DBG] Start end session request validation
2018-12-25 18:37:51.444 +03:00 [DBG] Start identity token validation
2018-12-25 18:37:51.457 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:51.457 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:51.457 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 18:37:51.462 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 18:37:51.463 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545752268,"exp":1545752568,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813490606462090.NDU2OTAyODktMWM4My00MTQ3LTk2ODMtYTczMzNjZjQ4ZDE2ZjY1ZWQ1MWMtMTRiNS00NDFkLWExMTctNTM1MTI2YWJmNmYz","iat":1545752268,"sid":"35b8ed82fbfa35364d4f65da9dad2f50","sub":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","auth_time":1545752268,"idp":"local","name":"Alice Smith","given_name":"Alice","family_name":"Smith","website":"http://alice.com","preferred_username":"alice","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 18:37:51.463 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95v0cVGh6qfiu9w3ZZD6aouUSqeWWDLkHDL77B_yl-u2U_TBL-l4p4980jqsrzMyxaVVGypIS0RKGz0l83rqyQTaURi9kJyOIHBQKQ3czG9ETRPgLvlKFMVkiSN0wGVNLD4","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NTIyNjgsImV4cCI6MTU0NTc1MjU2OCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNDkwNjA2NDYyMDkwLk5EVTJPVEF5T0RrdE1XTTRNeTAwTVRRM0xUazJPRE10WVRjek16TmpaalE0WkRFMlpqWTFaV1ExTVdNdE1UUmlOUzAwTkRGa0xXRXhNVGN0TlRNMU1USTJZV0ptTm1ZeiIsImlhdCI6MTU0NTc1MjI2OCwic2lkIjoiMzViOGVkODJmYmZhMzUzNjRkNGY2NWRhOWRhZDJmNTAiLCJzdWIiOiI3NTc1ZDg2NS1lZjQzLTQ4ZDktOWNiMC05ZTkxOWJkNTNiMmUiLCJhdXRoX3RpbWUiOjE1NDU3NTIyNjgsImlkcCI6ImxvY2FsIiwibmFtZSI6IkFsaWNlIFNtaXRoIiwiZ2l2ZW5fbmFtZSI6IkFsaWNlIiwiZmFtaWx5X25hbWUiOiJTbWl0aCIsIndlYnNpdGUiOiJodHRwOi8vYWxpY2UuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2UiLCJhbXIiOlsicHdkIl19.aTvvX97xF22npxwf2tH0QUwjzhmuSIXjX8GLTd2IXjoKIjnH5CRgRDrlFp97t-mojnT5oV8WzOgESOlLdVtvIp6lmcdgsUFmMy_K7cALGszGPlCv-ZZxZzs7S7CW-U3sCZp4ob7kv_kCx5OWku_5mE2sxwmVGF9JX8d-OPVzww8PyzAZbu8OdV8kNacUQNgwQ2s_zR-vRHcAuGEc4tjswehzlwWb_ZoQoZde2ECSfB-3CLAnLlpl34glaw1MKdRr1imQYjfDmv9a03BhhmZC8Lo6XkISNkvleAZq0KlWiU017UlNL2Ld9ng_W4e81JqDMJp3Ckr74VNAc_I2CIYuWA","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95v0cVGh6qfiu9w3ZZD6aouUSqeWWDLkHDL77B_yl-u2U_TBL-l4p4980jqsrzMyxaVVGypIS0RKGz0l83rqyQTaURi9kJyOIHBQKQ3czG9ETRPgLvlKFMVkiSN0wGVNLD4","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 18:37:51.464 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 18:37:51.473 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 18:37:51.473 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 18:37:51.473 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 18:37:51.555 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 18:37:51.556 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 18:37:51.556 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 18:37:51.556 +03:00 [DBG] Processing signout callback request
2018-12-25 18:37:51.576 +03:00 [DBG] northwind found in database: true
2018-12-25 18:37:51.577 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:37:51.577 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 18:37:51.577 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 18:37:51.577 +03:00 [INF] Successful signout callback.
2018-12-25 18:37:51.577 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 18:37:51.577 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 18:43:18.747 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 18:43:18.749 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 18:43:18.749 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 18:43:18.749 +03:00 [DBG] Start discovery request
2018-12-25 18:43:18.815 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 18:43:18.888 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 18:43:18.888 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 18:43:18.889 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 18:43:18.889 +03:00 [DBG] Start key discovery request
2018-12-25 18:43:18.941 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:43:18.941 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:43:18.941 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:43:18.941 +03:00 [DBG] Start authorize request
2018-12-25 18:43:18.942 +03:00 [DBG] No user present in authorize request
2018-12-25 18:43:18.942 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:43:18.953 +03:00 [DBG] northwind found in database: true
2018-12-25 18:43:18.953 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:43:18.958 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:43:18.960 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:43:18.963 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:43:18.965 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:43:18.965 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:43:18.965 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","UiLocales":null,"Nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:43:18.967 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 18:43:18.974 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:43:18.985 +03:00 [DBG] northwind found in database: true
2018-12-25 18:43:18.985 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:43:18.989 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:43:18.991 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:43:18.995 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:43:18.996 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:43:18.996 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:43:19.008 +03:00 [DBG] northwind found in database: true
2018-12-25 18:43:19.008 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:56:59.197 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 18:56:59.208 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:56:59.285 +03:00 [DBG] northwind found in database: true
2018-12-25 18:56:59.286 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:56:59.292 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:56:59.295 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:56:59.299 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:56:59.301 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:56:59.301 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:56:59.330 +03:00 [DBG] northwind found in database: true
2018-12-25 18:56:59.330 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:56:59.337 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 18:56:59.337 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 18:56:59.337 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 18:56:59.337 +03:00 [DBG] Start authorize callback request
2018-12-25 18:56:59.339 +03:00 [DBG] No user present in authorize request
2018-12-25 18:56:59.339 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:56:59.350 +03:00 [DBG] northwind found in database: true
2018-12-25 18:56:59.351 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:56:59.356 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:56:59.358 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:56:59.362 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:56:59.364 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:56:59.364 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:56:59.365 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","UiLocales":null,"Nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:56:59.368 +03:00 [INF] Error: User denied consent
2018-12-25 18:56:59.371 +03:00 [INF] {"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","UiLocales":null,"Nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:57:32.718 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:57:32.739 +03:00 [DBG] northwind found in database: true
2018-12-25 18:57:32.739 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:57:32.747 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:57:32.749 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:57:32.754 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:57:32.756 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:57:32.756 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:57:32.767 +03:00 [DBG] northwind found in database: true
2018-12-25 18:57:32.767 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:57:58.759 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 18:57:58.760 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:57:58.773 +03:00 [DBG] northwind found in database: true
2018-12-25 18:57:58.773 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:57:58.777 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:57:58.779 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:57:58.783 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:57:58.784 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:57:58.784 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:57:58.867 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:57:58.867 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 18:57:58.867 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 18:57:58.867 +03:00 [DBG] Adding auth_time claim with value: 1545753478
2018-12-25 18:57:58.868 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:57:58.878 +03:00 [DBG] northwind found in database: true
2018-12-25 18:57:58.878 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:57:58.886 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 18:57:58.886 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 18:57:58.886 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 18:57:58.886 +03:00 [DBG] Start authorize callback request
2018-12-25 18:57:58.886 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:57:58.886 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:57:58.896 +03:00 [DBG] northwind found in database: true
2018-12-25 18:57:58.896 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:57:58.900 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:57:58.902 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:57:58.905 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:57:58.907 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:57:58.907 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:57:58.907 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","UiLocales":null,"Nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"f7eb2906bb0eee987a65a0c674003f76","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:57:58.911 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:57:58.912 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:57:58.912 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:57:58.930 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vcYLfzVR18eFPQZ7coIHTaZrGWN4Ifu09kvoUdiBqh3FepOYSse82yYyQ-B-VSQmxIbKb975Y8Q8uNMb03BTzlgAcqDWR9FiQJmxYwIwkaIu0va3FvzYLEgpToaVHrRt8Q74iBHrL2o1xJceSEmH3-hXfGy25qXtXV46y4e0RVF1STVrgTfRMMDwNUNaNprDDl0UxUIcVJpM16GKihc9ThwUoALoRTIX_G2DW_-ZwSeI4vwYeVpD3yMKEkeXOtBgjr4jGiXZ3J6NYaAe_sms3rT5TUarqbmOOA4KowiGeWSZrGN2QraQhOADLuCgQwkd8","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:57:58.930 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:57:58.930 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:57:59.249 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 18:57:59.250 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 18:57:59.250 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 18:57:59.250 +03:00 [DBG] Start discovery request
2018-12-25 18:57:59.267 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 18:57:59.346 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 18:57:59.347 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 18:57:59.347 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 18:57:59.347 +03:00 [DBG] Start key discovery request
2018-12-25 18:58:04.913 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 18:58:04.913 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 18:58:04.913 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 18:58:04.913 +03:00 [DBG] Processing signout request for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:58:04.913 +03:00 [DBG] Start end session request validation
2018-12-25 18:58:04.913 +03:00 [DBG] Start identity token validation
2018-12-25 18:58:04.929 +03:00 [DBG] northwind found in database: true
2018-12-25 18:58:04.929 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:58:04.929 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 18:58:04.934 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 18:58:04.934 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545753478,"exp":1545753778,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813493989035560.YzdiNzQ0ODUtYzg0NS00NDVlLWE0NTEtNWFkZGMyOGM2ZThhY2U1MzM0MTMtYTk2Mi00OTBmLThiMTQtOTk3MGViZmU4ZTQy","iat":1545753478,"sid":"f7eb2906bb0eee987a65a0c674003f76","sub":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","auth_time":1545753478,"idp":"local","name":"Alice Smith","given_name":"Alice","family_name":"Smith","website":"http://alice.com","preferred_username":"alice","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 18:58:04.935 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uPn7AvOh0RlQbD0HtP2jWEZ_evTkzZoOQl0GbEZaBoeiLEEkF38GqaUgngXbjdC0EpUiO7ErHu40-6CTAPiZbGXVDLoL_s-6E7pXBZbUC78kWIFWpW7Lh228pPAaLMldI","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NTM0NzgsImV4cCI6MTU0NTc1Mzc3OCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNDkzOTg5MDM1NTYwLll6ZGlOelEwT0RVdFl6ZzBOUzAwTkRWbExXRTBOVEV0TldGa1pHTXlPR00yWlRoaFkyVTFNek0wTVRNdFlUazJNaTAwT1RCbUxUaGlNVFF0T1RrM01HVmlabVU0WlRReSIsImlhdCI6MTU0NTc1MzQ3OCwic2lkIjoiZjdlYjI5MDZiYjBlZWU5ODdhNjVhMGM2NzQwMDNmNzYiLCJzdWIiOiI3NTc1ZDg2NS1lZjQzLTQ4ZDktOWNiMC05ZTkxOWJkNTNiMmUiLCJhdXRoX3RpbWUiOjE1NDU3NTM0NzgsImlkcCI6ImxvY2FsIiwibmFtZSI6IkFsaWNlIFNtaXRoIiwiZ2l2ZW5fbmFtZSI6IkFsaWNlIiwiZmFtaWx5X25hbWUiOiJTbWl0aCIsIndlYnNpdGUiOiJodHRwOi8vYWxpY2UuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2UiLCJhbXIiOlsicHdkIl19.fhVK-lv7rRfE-HYVbWfxqNsHmbQyxBDCFHpFHIUQRvF0wjgj25smUTI_WRnSfMqv3sZ_AT_eh2vQdnxIFKT4rdBYAfOdypY2_JO8DJhluN7742B1FvAbrarsr4WeuXSiBgdavpJ1i2GXNxfl00MasJlUFtsXynGV1Qc31W0E1SgaaJQUHv0Thjlb3_csX4iCU60rxH32Y_OY5CnwX7gA2SMnOqEtxPgtWwdaE3Cq0DAsnO7ItGNdXX2Foh6ZXegKXADrsx_L8AhsjVvInSTatB3kwqD6owO_S_sCHNHaZNQglJbzNuYHN8PW-ca2Nrp-mkdjyjQGNtoCp_W2mT436g","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uPn7AvOh0RlQbD0HtP2jWEZ_evTkzZoOQl0GbEZaBoeiLEEkF38GqaUgngXbjdC0EpUiO7ErHu40-6CTAPiZbGXVDLoL_s-6E7pXBZbUC78kWIFWpW7Lh228pPAaLMldI","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 18:58:04.936 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 18:58:04.945 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 18:58:04.946 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 18:58:04.946 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 18:58:05.114 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 18:58:05.115 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 18:58:05.115 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 18:58:05.115 +03:00 [DBG] Processing signout callback request
2018-12-25 18:58:05.134 +03:00 [DBG] northwind found in database: true
2018-12-25 18:58:05.134 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:58:05.134 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 18:58:05.134 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 18:58:05.134 +03:00 [INF] Successful signout callback.
2018-12-25 18:58:05.134 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 18:58:05.134 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 18:58:39.133 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:58:39.134 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:58:39.134 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:58:39.134 +03:00 [DBG] Start authorize request
2018-12-25 18:58:39.134 +03:00 [DBG] No user present in authorize request
2018-12-25 18:58:39.134 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:58:39.149 +03:00 [DBG] northwind found in database: true
2018-12-25 18:58:39.149 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:58:39.154 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:58:39.156 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:58:39.160 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:58:39.162 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:58:39.162 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:58:39.162 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tMdQXpPawj2HQ4c7kAtMwnT3ptNwA2o4Py7h_qP1LHeii1URICG5NzwoQMGGz0cfjPoXMnFlihq8XeOAIeqskRoZMcOwzVL5HgVb7AEaE37ionUEVZ07QL-VNP28fb2GLSoShIqPkkYHMsy1R_aN3LM0GYrI9QaGalWndAP55Ofk3jTxmLZF5892QwhsOVnKCrnpp2Gl2G3OULUMVQnSDmTPmwhg7sd3sKs2m_LuXQ-N8sRfxpdNLsixH26IvV4EUUUpVVJLPb9Cu6q3xgUGrtnTK3LosPxGkh1jCbnMc-PMh-xVB_p-QlcCNGm-G8bd0","UiLocales":null,"Nonce":"636813503191115710.OTI2NDIwM2ItNTQ0Ni00MDYwLWI1NjQtYjljYTgzOTk0MDZhMzI1YWJkNGEtNzMxYy00NDhjLWE1MzAtMzM4YzllZGYzMDI1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813503191115710.OTI2NDIwM2ItNTQ0Ni00MDYwLWI1NjQtYjljYTgzOTk0MDZhMzI1YWJkNGEtNzMxYy00NDhjLWE1MzAtMzM4YzllZGYzMDI1","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95tMdQXpPawj2HQ4c7kAtMwnT3ptNwA2o4Py7h_qP1LHeii1URICG5NzwoQMGGz0cfjPoXMnFlihq8XeOAIeqskRoZMcOwzVL5HgVb7AEaE37ionUEVZ07QL-VNP28fb2GLSoShIqPkkYHMsy1R_aN3LM0GYrI9QaGalWndAP55Ofk3jTxmLZF5892QwhsOVnKCrnpp2Gl2G3OULUMVQnSDmTPmwhg7sd3sKs2m_LuXQ-N8sRfxpdNLsixH26IvV4EUUUpVVJLPb9Cu6q3xgUGrtnTK3LosPxGkh1jCbnMc-PMh-xVB_p-QlcCNGm-G8bd0","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:58:39.164 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 18:58:39.175 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:58:39.188 +03:00 [DBG] northwind found in database: true
2018-12-25 18:58:39.188 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:58:39.192 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:58:39.194 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:58:39.198 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:58:39.200 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:58:39.200 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:58:39.211 +03:00 [DBG] northwind found in database: true
2018-12-25 18:58:39.211 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:58:55.204 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 18:58:55.229 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:58:55.229 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 18:58:55.229 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 18:58:55.229 +03:00 [DBG] Adding auth_time claim with value: 1545753535
2018-12-25 18:58:55.229 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:59:00.731 +03:00 [DBG] 0 persisted grants found for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:59:17.851 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 18:59:17.852 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 18:59:17.852 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 18:59:17.852 +03:00 [DBG] Start authorize request
2018-12-25 18:59:17.852 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:59:17.852 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 18:59:17.868 +03:00 [DBG] northwind found in database: true
2018-12-25 18:59:17.868 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:59:17.877 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:59:17.880 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:59:17.885 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 18:59:17.887 +03:00 [DBG] Found [] API scopes in database
2018-12-25 18:59:17.887 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 18:59:17.888 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sAjXQmvvVWyF1v4hHgqv0ROlEbf3ftflGCBrMFoyyYRkAV_IPtx2a3qeDdNvDyDTiwkEIZzkEnh5zEuNapTf4RueyAFiSqev6VtQtVNMfutW04x0AWYPKDYLXv_WZWS-W4nzGnXAVNBTiYuv9WzCLu4HKyu8QUc76gRDM-ZP_jQ_kBICTbGtZwx0QKdaVhMcujdtIBh-kOUqTu2HgGIkL5hYT0WfzH2sGtN4y77OS_zw9P9GO-IebftEMpCiqBzoBe0zI6J_9fKKdlVPHeUACObDiDLlJfLU9-KAYoK_xuVKxdQ4XlZzn1-F0879GGKXk","UiLocales":null,"Nonce":"636813503578363830.YTM5NDRkM2ItMjJkMy00MzRiLTkzNDgtMzhlYjI5ZTg2MWUyNjBmYjU5YzYtM2Y0NC00NGE2LWI3MzYtYTI0NDkzMmYxZGYy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"7b3298ab5d965026a276ea7a6c008405","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813503578363830.YTM5NDRkM2ItMjJkMy00MzRiLTkzNDgtMzhlYjI5ZTg2MWUyNjBmYjU5YzYtM2Y0NC00NGE2LWI3MzYtYTI0NDkzMmYxZGYy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sAjXQmvvVWyF1v4hHgqv0ROlEbf3ftflGCBrMFoyyYRkAV_IPtx2a3qeDdNvDyDTiwkEIZzkEnh5zEuNapTf4RueyAFiSqev6VtQtVNMfutW04x0AWYPKDYLXv_WZWS-W4nzGnXAVNBTiYuv9WzCLu4HKyu8QUc76gRDM-ZP_jQ_kBICTbGtZwx0QKdaVhMcujdtIBh-kOUqTu2HgGIkL5hYT0WfzH2sGtN4y77OS_zw9P9GO-IebftEMpCiqBzoBe0zI6J_9fKKdlVPHeUACObDiDLlJfLU9-KAYoK_xuVKxdQ4XlZzn1-F0879GGKXk","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 18:59:17.893 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 18:59:17.893 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 18:59:17.893 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 18:59:17.913 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sAjXQmvvVWyF1v4hHgqv0ROlEbf3ftflGCBrMFoyyYRkAV_IPtx2a3qeDdNvDyDTiwkEIZzkEnh5zEuNapTf4RueyAFiSqev6VtQtVNMfutW04x0AWYPKDYLXv_WZWS-W4nzGnXAVNBTiYuv9WzCLu4HKyu8QUc76gRDM-ZP_jQ_kBICTbGtZwx0QKdaVhMcujdtIBh-kOUqTu2HgGIkL5hYT0WfzH2sGtN4y77OS_zw9P9GO-IebftEMpCiqBzoBe0zI6J_9fKKdlVPHeUACObDiDLlJfLU9-KAYoK_xuVKxdQ4XlZzn1-F0879GGKXk","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 18:59:17.913 +03:00 [DBG] Augmenting SignInContext
2018-12-25 18:59:17.914 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 18:59:39.422 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 18:59:39.424 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 18:59:39.424 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 18:59:39.424 +03:00 [DBG] Processing signout request for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 18:59:39.424 +03:00 [DBG] Start end session request validation
2018-12-25 18:59:39.425 +03:00 [DBG] Start identity token validation
2018-12-25 18:59:39.439 +03:00 [DBG] northwind found in database: true
2018-12-25 18:59:39.439 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:59:39.439 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 18:59:39.445 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 18:59:39.445 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545753557,"exp":1545753857,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813503578363830.YTM5NDRkM2ItMjJkMy00MzRiLTkzNDgtMzhlYjI5ZTg2MWUyNjBmYjU5YzYtM2Y0NC00NGE2LWI3MzYtYTI0NDkzMmYxZGYy","iat":1545753557,"sid":"7b3298ab5d965026a276ea7a6c008405","sub":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","auth_time":1545753535,"idp":"local","name":"Alice Smith","given_name":"Alice","family_name":"Smith","website":"http://alice.com","preferred_username":"alice","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 18:59:39.446 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uNNj-0HF7kuurZkWV1LDzqzgHTEFP4oDVnLbV02Gcsgk0Bu7Vovl9BJ-I0Abtz6gE_0Fm7-mtgklufwjuPrRXYWrIAaBtyW4xkAPy8mNfkxN3psqw2fdHAroAL28TffBA","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NTM1NTcsImV4cCI6MTU0NTc1Mzg1NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNTAzNTc4MzYzODMwLllUTTVORFJrTTJJdE1qSmtNeTAwTXpSaUxUa3pORGd0TXpobFlqSTVaVGcyTVdVeU5qQm1ZalU1WXpZdE0yWTBOQzAwTkdFMkxXSTNNell0WVRJME5Ea3pNbVl4WkdZeSIsImlhdCI6MTU0NTc1MzU1Nywic2lkIjoiN2IzMjk4YWI1ZDk2NTAyNmEyNzZlYTdhNmMwMDg0MDUiLCJzdWIiOiI3NTc1ZDg2NS1lZjQzLTQ4ZDktOWNiMC05ZTkxOWJkNTNiMmUiLCJhdXRoX3RpbWUiOjE1NDU3NTM1MzUsImlkcCI6ImxvY2FsIiwibmFtZSI6IkFsaWNlIFNtaXRoIiwiZ2l2ZW5fbmFtZSI6IkFsaWNlIiwiZmFtaWx5X25hbWUiOiJTbWl0aCIsIndlYnNpdGUiOiJodHRwOi8vYWxpY2UuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2UiLCJhbXIiOlsicHdkIl19.Bsz6AA3HBjg6Sj-5uOGSd9AavXa7EVdc9Az972UIkh5nmT-LYi2q8U8NoonmahMhkJNqejK2VCtiLWmT5vgEK184dsosAj5j2Exp71WU5Kr1K8t9WxK41I6w3r1LW71y1kfeKar6fprNtUE-XhIks1yFJg9315K3Z4x7avAJJASrUF04H9VZ-HCTMqEtKszf_NH6O5bS_ZZwWiWw_I4D0S7G9F3mJkx1OIhvVoHWqRcGevGPA_kVyjkifjt8g0dT-3QwZg9KSesmg-QG7KfasobVgUreUeFCoTmM7JotETDtEaLTBXLMS_sRxel6EBu1CiQXAqH3T1dDOa-yVD5cmg","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uNNj-0HF7kuurZkWV1LDzqzgHTEFP4oDVnLbV02Gcsgk0Bu7Vovl9BJ-I0Abtz6gE_0Fm7-mtgklufwjuPrRXYWrIAaBtyW4xkAPy8mNfkxN3psqw2fdHAroAL28TffBA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 18:59:39.447 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 18:59:39.457 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 18:59:39.457 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 18:59:39.457 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 18:59:39.642 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 18:59:39.642 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 18:59:39.642 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 18:59:39.642 +03:00 [DBG] Processing signout callback request
2018-12-25 18:59:39.656 +03:00 [DBG] northwind found in database: true
2018-12-25 18:59:39.656 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 18:59:39.656 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 18:59:39.656 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 18:59:39.656 +03:00 [INF] Successful signout callback.
2018-12-25 18:59:39.656 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 18:59:39.656 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 19:16:19.116 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 19:16:19.118 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 19:16:19.119 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 19:16:19.119 +03:00 [DBG] Start discovery request
2018-12-25 19:16:19.181 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 19:16:19.253 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 19:16:19.254 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 19:16:19.254 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 19:16:19.254 +03:00 [DBG] Start key discovery request
2018-12-25 19:16:19.315 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 19:16:19.315 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 19:16:19.315 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 19:16:19.315 +03:00 [DBG] Start authorize request
2018-12-25 19:16:19.315 +03:00 [DBG] No user present in authorize request
2018-12-25 19:16:19.315 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:19.326 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:19.326 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:19.330 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:19.331 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:19.338 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:19.339 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:19.339 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:19.339 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95v5InYdOob-X2AAvW96aqXizuRUnLqPGGQTBap34VWCrraYcIKLflFwSMrfP-RB50jPDOoquJIXP7CEL7sUxlHvsa3LxjCD4jE8oHpq-y6J-P9Sh4FVbUwDqsVIM6FoSUWqvwXZ1Kf_Am55-nqDaU-lX09npE_ZGFMDy9IjKkD6byRFD1grTyioIX92KU8tybtKsORVsNVhf2WsTMOD4zgzHuv_sZKymZh7Fd4rtJ_5UKSX-f4fIcwOcFQD9I_oOs9pCrIFbR0kv_chsjI4O9uMavOdTRLPVankLJjRPRLuxQ","UiLocales":null,"Nonce":"636813513792790850.OTA3NWVmN2QtMGE5MS00M2UwLTgyZjAtYjNjZGNhZDA4OGNhZWFmOTkyOWYtMWJiNi00MWU0LWJmMDQtYTVhOTZjNDE3ODQ4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813513792790850.OTA3NWVmN2QtMGE5MS00M2UwLTgyZjAtYjNjZGNhZDA4OGNhZWFmOTkyOWYtMWJiNi00MWU0LWJmMDQtYTVhOTZjNDE3ODQ4","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95v5InYdOob-X2AAvW96aqXizuRUnLqPGGQTBap34VWCrraYcIKLflFwSMrfP-RB50jPDOoquJIXP7CEL7sUxlHvsa3LxjCD4jE8oHpq-y6J-P9Sh4FVbUwDqsVIM6FoSUWqvwXZ1Kf_Am55-nqDaU-lX09npE_ZGFMDy9IjKkD6byRFD1grTyioIX92KU8tybtKsORVsNVhf2WsTMOD4zgzHuv_sZKymZh7Fd4rtJ_5UKSX-f4fIcwOcFQD9I_oOs9pCrIFbR0kv_chsjI4O9uMavOdTRLPVankLJjRPRLuxQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 19:16:19.341 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 19:16:19.347 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:19.357 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:19.357 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:19.361 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:19.363 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:19.365 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:19.367 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:19.367 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:19.376 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:19.376 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:27.444 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 19:16:27.446 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:27.460 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:27.460 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:27.463 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:27.465 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:27.468 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:27.469 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:27.469 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:27.548 +03:00 [DBG] Augmenting SignInContext
2018-12-25 19:16:27.549 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 19:16:27.549 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 19:16:27.549 +03:00 [DBG] Adding auth_time claim with value: 1545754587
2018-12-25 19:16:27.549 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 19:16:27.560 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:27.561 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:27.566 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 19:16:27.566 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 19:16:27.566 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 19:16:27.566 +03:00 [DBG] Start authorize callback request
2018-12-25 19:16:27.567 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 19:16:27.567 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:27.576 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:27.576 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:27.579 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:27.580 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:27.583 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:27.584 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:27.584 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:27.585 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95v5InYdOob-X2AAvW96aqXizuRUnLqPGGQTBap34VWCrraYcIKLflFwSMrfP-RB50jPDOoquJIXP7CEL7sUxlHvsa3LxjCD4jE8oHpq-y6J-P9Sh4FVbUwDqsVIM6FoSUWqvwXZ1Kf_Am55-nqDaU-lX09npE_ZGFMDy9IjKkD6byRFD1grTyioIX92KU8tybtKsORVsNVhf2WsTMOD4zgzHuv_sZKymZh7Fd4rtJ_5UKSX-f4fIcwOcFQD9I_oOs9pCrIFbR0kv_chsjI4O9uMavOdTRLPVankLJjRPRLuxQ","UiLocales":null,"Nonce":"636813513792790850.OTA3NWVmN2QtMGE5MS00M2UwLTgyZjAtYjNjZGNhZDA4OGNhZWFmOTkyOWYtMWJiNi00MWU0LWJmMDQtYTVhOTZjNDE3ODQ4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"6e15467c60be25605edc6fe8dfdd40da","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813513792790850.OTA3NWVmN2QtMGE5MS00M2UwLTgyZjAtYjNjZGNhZDA4OGNhZWFmOTkyOWYtMWJiNi00MWU0LWJmMDQtYTVhOTZjNDE3ODQ4","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95v5InYdOob-X2AAvW96aqXizuRUnLqPGGQTBap34VWCrraYcIKLflFwSMrfP-RB50jPDOoquJIXP7CEL7sUxlHvsa3LxjCD4jE8oHpq-y6J-P9Sh4FVbUwDqsVIM6FoSUWqvwXZ1Kf_Am55-nqDaU-lX09npE_ZGFMDy9IjKkD6byRFD1grTyioIX92KU8tybtKsORVsNVhf2WsTMOD4zgzHuv_sZKymZh7Fd4rtJ_5UKSX-f4fIcwOcFQD9I_oOs9pCrIFbR0kv_chsjI4O9uMavOdTRLPVankLJjRPRLuxQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 19:16:27.588 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 19:16:27.588 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 19:16:27.589 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 19:16:27.606 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95v5InYdOob-X2AAvW96aqXizuRUnLqPGGQTBap34VWCrraYcIKLflFwSMrfP-RB50jPDOoquJIXP7CEL7sUxlHvsa3LxjCD4jE8oHpq-y6J-P9Sh4FVbUwDqsVIM6FoSUWqvwXZ1Kf_Am55-nqDaU-lX09npE_ZGFMDy9IjKkD6byRFD1grTyioIX92KU8tybtKsORVsNVhf2WsTMOD4zgzHuv_sZKymZh7Fd4rtJ_5UKSX-f4fIcwOcFQD9I_oOs9pCrIFbR0kv_chsjI4O9uMavOdTRLPVankLJjRPRLuxQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 19:16:27.606 +03:00 [DBG] Augmenting SignInContext
2018-12-25 19:16:27.607 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 19:16:29.966 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 19:16:29.967 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 19:16:29.967 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 19:16:29.968 +03:00 [DBG] Processing signout request for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 19:16:29.968 +03:00 [DBG] Start end session request validation
2018-12-25 19:16:29.968 +03:00 [DBG] Start identity token validation
2018-12-25 19:16:29.981 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:29.981 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:29.981 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 19:16:29.986 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 19:16:29.986 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545754587,"exp":1545754887,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813513792790850.OTA3NWVmN2QtMGE5MS00M2UwLTgyZjAtYjNjZGNhZDA4OGNhZWFmOTkyOWYtMWJiNi00MWU0LWJmMDQtYTVhOTZjNDE3ODQ4","iat":1545754587,"sid":"6e15467c60be25605edc6fe8dfdd40da","sub":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","auth_time":1545754587,"idp":"local","name":"Alice Smith","given_name":"Alice","family_name":"Smith","website":"http://alice.com","preferred_username":"alice","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 19:16:29.986 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sbeHdBeYSuleV0A9Z3yt7uTydytYYZv6pcwvpORCiX96WCObwOX-U35nR1RcoKLWs0qP0033DjQaEoOtDowDYjJ0HQYlYKlQDFAT5q0KIhCFYweMNMrvc7jeUg2_uxfKA","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NTQ1ODcsImV4cCI6MTU0NTc1NDg4NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNTEzNzkyNzkwODUwLk9UQTNOV1ZtTjJRdE1HRTVNUzAwTTJVd0xUZ3laakF0WWpOalpHTmhaREE0T0dOaFpXRm1PVGt5T1dZdE1XSmlOaTAwTVdVMExXSm1NRFF0WVRWaE9UWmpOREUzT0RRNCIsImlhdCI6MTU0NTc1NDU4Nywic2lkIjoiNmUxNTQ2N2M2MGJlMjU2MDVlZGM2ZmU4ZGZkZDQwZGEiLCJzdWIiOiI3NTc1ZDg2NS1lZjQzLTQ4ZDktOWNiMC05ZTkxOWJkNTNiMmUiLCJhdXRoX3RpbWUiOjE1NDU3NTQ1ODcsImlkcCI6ImxvY2FsIiwibmFtZSI6IkFsaWNlIFNtaXRoIiwiZ2l2ZW5fbmFtZSI6IkFsaWNlIiwiZmFtaWx5X25hbWUiOiJTbWl0aCIsIndlYnNpdGUiOiJodHRwOi8vYWxpY2UuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2UiLCJhbXIiOlsicHdkIl19.PhhqYLrUhmCIaO_iG9dZRuRoZgkY-rECMbNyvV-PQg0_Ci1xQkcIyLqhTn-IX8uCNhdImGuhQlw9EZMgtiB1RKhHXbkB92KxVT4CIH6lUTjh-LE2GdhdNJ6SD4ARH-qTK_LfJKp69XO1c502FGvsOXZh-y2i2iMSaZzg2rNRom_MllvlTnuG9IeW0S4Wr4mqJ_E6z8hj7VT1I6ac3kipqm-ax-rYvoJUxcRtSQEZOf_OzZZty5XXH3FHrkxj4jGRZWgOBQ-YjXMbBz9gRTgv6SlA3ufrcqXMObO0kLKW613FWeLe3FZD-XZLAXwsT0_iVPTM2n7xpyxgupvfzZ81Xw","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sbeHdBeYSuleV0A9Z3yt7uTydytYYZv6pcwvpORCiX96WCObwOX-U35nR1RcoKLWs0qP0033DjQaEoOtDowDYjJ0HQYlYKlQDFAT5q0KIhCFYweMNMrvc7jeUg2_uxfKA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 19:16:29.987 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 19:16:29.996 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 19:16:29.997 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 19:16:29.997 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 19:16:30.100 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 19:16:30.101 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 19:16:30.101 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 19:16:30.101 +03:00 [DBG] Processing signout callback request
2018-12-25 19:16:30.114 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:30.114 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:30.114 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 19:16:30.114 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 19:16:30.114 +03:00 [INF] Successful signout callback.
2018-12-25 19:16:30.114 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 19:16:30.114 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 19:16:36.717 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 19:16:36.717 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 19:16:36.717 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 19:16:36.717 +03:00 [DBG] Start authorize request
2018-12-25 19:16:36.718 +03:00 [DBG] No user present in authorize request
2018-12-25 19:16:36.718 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:36.730 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:36.730 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:36.733 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:36.735 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:36.738 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:36.739 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:36.739 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:36.739 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sj2E0nAVN2Ped8ChVIxwxlrMvYKqAt-1rt7ZcUcKtq8a3lp3042cdklTmuFWafU5l2CO5LIvdSw5EVCp_1mWcnp2diqk5kKys9JEXgMCXU1LVLFiIG83KxA_DlE07kdykfCSGPwYS0S_9oWshJ295IgUCQRVLzGtUraxexvfEOw1w1EdAnzB_o2LO45g2akfGf94wfrdob4gUsheyZXlPiDoiN9IlGmOK1OYX4ltEGIGhzi8TlJqqi3QTo153AR386T44MqgB37qtqKi361kre3PgroK2kvzhsf_z1lIFKqw","UiLocales":null,"Nonce":"636813513966874500.MGY3N2U2MzAtYzAyMC00Mzg4LWEwODgtNmI4ZDQzNGUwZmU3NGQxMmJjMmItOGQxNi00ZTJjLWFkZGUtOWE4NGIwNjg2MjEz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813513966874500.MGY3N2U2MzAtYzAyMC00Mzg4LWEwODgtNmI4ZDQzNGUwZmU3NGQxMmJjMmItOGQxNi00ZTJjLWFkZGUtOWE4NGIwNjg2MjEz","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sj2E0nAVN2Ped8ChVIxwxlrMvYKqAt-1rt7ZcUcKtq8a3lp3042cdklTmuFWafU5l2CO5LIvdSw5EVCp_1mWcnp2diqk5kKys9JEXgMCXU1LVLFiIG83KxA_DlE07kdykfCSGPwYS0S_9oWshJ295IgUCQRVLzGtUraxexvfEOw1w1EdAnzB_o2LO45g2akfGf94wfrdob4gUsheyZXlPiDoiN9IlGmOK1OYX4ltEGIGhzi8TlJqqi3QTo153AR386T44MqgB37qtqKi361kre3PgroK2kvzhsf_z1lIFKqw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 19:16:36.741 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 19:16:36.750 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:36.759 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:36.759 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:36.762 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:36.764 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:36.767 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:36.768 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:36.768 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:36.778 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:36.778 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:43.833 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 19:16:43.834 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:43.846 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:43.846 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:43.849 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:43.851 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:43.854 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:43.856 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:43.856 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:43.873 +03:00 [WRN] Invalid password for user 7575d865-ef43-48d9-9cb0-9e919bd53b2e.
2018-12-25 19:16:43.873 +03:00 [WRN] User 7575d865-ef43-48d9-9cb0-9e919bd53b2e failed to provide the correct password.
2018-12-25 19:16:43.976 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:43.986 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:43.986 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:43.990 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:43.991 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:43.994 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:43.996 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:43.996 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:44.006 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:44.006 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:48.232 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 19:16:48.233 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:48.243 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:48.244 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:48.247 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:48.249 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:48.252 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:48.254 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:48.254 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:48.283 +03:00 [DBG] Augmenting SignInContext
2018-12-25 19:16:48.283 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 19:16:48.283 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 19:16:48.283 +03:00 [DBG] Adding auth_time claim with value: 1545754608
2018-12-25 19:16:48.284 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 19:16:48.293 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:48.293 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:48.299 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 19:16:48.299 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 19:16:48.299 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 19:16:48.299 +03:00 [DBG] Start authorize callback request
2018-12-25 19:16:48.299 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 19:16:48.299 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:16:48.308 +03:00 [DBG] northwind found in database: true
2018-12-25 19:16:48.308 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:16:48.311 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:48.313 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:48.315 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:16:48.316 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:16:48.317 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:16:48.317 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sj2E0nAVN2Ped8ChVIxwxlrMvYKqAt-1rt7ZcUcKtq8a3lp3042cdklTmuFWafU5l2CO5LIvdSw5EVCp_1mWcnp2diqk5kKys9JEXgMCXU1LVLFiIG83KxA_DlE07kdykfCSGPwYS0S_9oWshJ295IgUCQRVLzGtUraxexvfEOw1w1EdAnzB_o2LO45g2akfGf94wfrdob4gUsheyZXlPiDoiN9IlGmOK1OYX4ltEGIGhzi8TlJqqi3QTo153AR386T44MqgB37qtqKi361kre3PgroK2kvzhsf_z1lIFKqw","UiLocales":null,"Nonce":"636813513966874500.MGY3N2U2MzAtYzAyMC00Mzg4LWEwODgtNmI4ZDQzNGUwZmU3NGQxMmJjMmItOGQxNi00ZTJjLWFkZGUtOWE4NGIwNjg2MjEz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"4a13177192fc31f96da8a5edebbd5619","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813513966874500.MGY3N2U2MzAtYzAyMC00Mzg4LWEwODgtNmI4ZDQzNGUwZmU3NGQxMmJjMmItOGQxNi00ZTJjLWFkZGUtOWE4NGIwNjg2MjEz","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sj2E0nAVN2Ped8ChVIxwxlrMvYKqAt-1rt7ZcUcKtq8a3lp3042cdklTmuFWafU5l2CO5LIvdSw5EVCp_1mWcnp2diqk5kKys9JEXgMCXU1LVLFiIG83KxA_DlE07kdykfCSGPwYS0S_9oWshJ295IgUCQRVLzGtUraxexvfEOw1w1EdAnzB_o2LO45g2akfGf94wfrdob4gUsheyZXlPiDoiN9IlGmOK1OYX4ltEGIGhzi8TlJqqi3QTo153AR386T44MqgB37qtqKi361kre3PgroK2kvzhsf_z1lIFKqw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 19:16:48.320 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 19:16:48.320 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 19:16:48.320 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 19:16:48.337 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sj2E0nAVN2Ped8ChVIxwxlrMvYKqAt-1rt7ZcUcKtq8a3lp3042cdklTmuFWafU5l2CO5LIvdSw5EVCp_1mWcnp2diqk5kKys9JEXgMCXU1LVLFiIG83KxA_DlE07kdykfCSGPwYS0S_9oWshJ295IgUCQRVLzGtUraxexvfEOw1w1EdAnzB_o2LO45g2akfGf94wfrdob4gUsheyZXlPiDoiN9IlGmOK1OYX4ltEGIGhzi8TlJqqi3QTo153AR386T44MqgB37qtqKi361kre3PgroK2kvzhsf_z1lIFKqw","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 19:16:48.338 +03:00 [DBG] Augmenting SignInContext
2018-12-25 19:16:48.338 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 19:17:03.421 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 19:17:03.422 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 19:17:03.422 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 19:17:03.422 +03:00 [DBG] Processing signout request for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 19:17:03.422 +03:00 [DBG] Start end session request validation
2018-12-25 19:17:03.422 +03:00 [DBG] Start identity token validation
2018-12-25 19:17:03.434 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:03.434 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:03.434 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 19:17:03.438 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 19:17:03.438 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545754608,"exp":1545754908,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813513966874500.MGY3N2U2MzAtYzAyMC00Mzg4LWEwODgtNmI4ZDQzNGUwZmU3NGQxMmJjMmItOGQxNi00ZTJjLWFkZGUtOWE4NGIwNjg2MjEz","iat":1545754608,"sid":"4a13177192fc31f96da8a5edebbd5619","sub":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","auth_time":1545754608,"idp":"local","name":"Alice Smith","given_name":"Alice","family_name":"Smith","website":"http://alice.com","preferred_username":"alice","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 19:17:03.438 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95t3-4NL0exbP93uOCZ56okGOMDpVuODnH51giLsH5qieMydz6p3_eCibCjRGrtLwXLQyAVFh9kLNydLn0MFh4HgN9dsqbMcDS9n3Zjqp1VrfGfP-P5JnJdpboa7lyDUfGs","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NTQ2MDgsImV4cCI6MTU0NTc1NDkwOCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNTEzOTY2ODc0NTAwLk1HWTNOMlUyTXpBdFl6QXlNQzAwTXpnNExXRXdPRGd0Tm1JNFpEUXpOR1V3Wm1VM05HUXhNbUpqTW1JdE9HUXhOaTAwWlRKakxXRmtaR1V0T1dFNE5HSXdOamcyTWpFeiIsImlhdCI6MTU0NTc1NDYwOCwic2lkIjoiNGExMzE3NzE5MmZjMzFmOTZkYThhNWVkZWJiZDU2MTkiLCJzdWIiOiI3NTc1ZDg2NS1lZjQzLTQ4ZDktOWNiMC05ZTkxOWJkNTNiMmUiLCJhdXRoX3RpbWUiOjE1NDU3NTQ2MDgsImlkcCI6ImxvY2FsIiwibmFtZSI6IkFsaWNlIFNtaXRoIiwiZ2l2ZW5fbmFtZSI6IkFsaWNlIiwiZmFtaWx5X25hbWUiOiJTbWl0aCIsIndlYnNpdGUiOiJodHRwOi8vYWxpY2UuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2UiLCJhbXIiOlsicHdkIl19.tz7cb4YsbUyiANb8PXMM9pYAHkQ77cEPx0jzUNC4HxjCRSztmOxpB_rYVWjExqOplbsvcMSld34HbQ4XoIIaV5t_NsSvAiRMb3PqrdFi6AENCfXwdEeGcACeRjdMIQiA32rhxwwbVu4C9o8_z5xLHIuMEz-0JUnU-7FY5ckS_YXiyHkhZ1p62GTdbCRjcFZsOJ3oi7Pf0IeM3YwqUeyKYld-AiWae1nvB4Fhbk7BfqzXAbrqLRyiULg5BywsKlUOL2KWVMx0RjOmC3FfyB8DxfuQf_bl9PYiBLLss5biH0Yvcfs4HtCoVVlHuDeASAkMut9mR0EYe-V1inYm8uXZbQ","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95t3-4NL0exbP93uOCZ56okGOMDpVuODnH51giLsH5qieMydz6p3_eCibCjRGrtLwXLQyAVFh9kLNydLn0MFh4HgN9dsqbMcDS9n3Zjqp1VrfGfP-P5JnJdpboa7lyDUfGs","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 19:17:03.440 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 19:17:03.450 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 19:17:03.450 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 19:17:03.451 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 19:17:03.522 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 19:17:03.523 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 19:17:03.523 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 19:17:03.523 +03:00 [DBG] Processing signout callback request
2018-12-25 19:17:03.534 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:03.534 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:03.534 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 19:17:03.534 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 19:17:03.534 +03:00 [INF] Successful signout callback.
2018-12-25 19:17:03.534 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 19:17:03.534 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 19:17:17.837 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 19:17:17.837 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 19:17:17.837 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 19:17:17.837 +03:00 [DBG] Start authorize request
2018-12-25 19:17:17.837 +03:00 [DBG] No user present in authorize request
2018-12-25 19:17:17.838 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:17:17.853 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:17.854 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:17.857 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:17.859 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:17.862 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:17.863 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:17.864 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:17:17.864 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uxN2fjdhR3w8TJpFOECEi9b3w1J5VAY1AAEXQtdkfEqQ_OGa--g4-AJupMj2x0oShyprIyAE1ZTBIunQIbO88qsy0E6KtOnqwphBuKxuci1uhdUsPFprs7mhTn-et0xXhDMljziVb0mbRa-HMxvKjo2xInj7Elyh7TRYwXgQiBNltSPhf8q3-wdAGPOTzv8tCtOP-tSHW9mxWkD7YTlsMGU_qKgGtv7-D7Q3d6X1oh9EHSorB8RN58opv3jr_OtlycDLMos0hMx2O_62CWVSFm-6WKkeF-1QrMxWXwvTSoOA","UiLocales":null,"Nonce":"636813514378239330.OWVmNjZhNmItYjQ2My00NDYwLTk5ZWYtNzk5NWIzNzVlMzZlMWMyYjAyOWEtODcwZi00NThkLTlmNDItMDY0YzUxOWFhZDU3","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813514378239330.OWVmNjZhNmItYjQ2My00NDYwLTk5ZWYtNzk5NWIzNzVlMzZlMWMyYjAyOWEtODcwZi00NThkLTlmNDItMDY0YzUxOWFhZDU3","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uxN2fjdhR3w8TJpFOECEi9b3w1J5VAY1AAEXQtdkfEqQ_OGa--g4-AJupMj2x0oShyprIyAE1ZTBIunQIbO88qsy0E6KtOnqwphBuKxuci1uhdUsPFprs7mhTn-et0xXhDMljziVb0mbRa-HMxvKjo2xInj7Elyh7TRYwXgQiBNltSPhf8q3-wdAGPOTzv8tCtOP-tSHW9mxWkD7YTlsMGU_qKgGtv7-D7Q3d6X1oh9EHSorB8RN58opv3jr_OtlycDLMos0hMx2O_62CWVSFm-6WKkeF-1QrMxWXwvTSoOA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 19:17:17.865 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 19:17:17.872 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:17:17.887 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:17.887 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:17.892 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:17.893 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:17.897 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:17.898 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:17.898 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:17:17.906 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:17.906 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:23.945 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 19:17:23.946 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:17:23.958 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:23.958 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:23.961 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:23.962 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:23.966 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:23.967 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:23.967 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:17:23.987 +03:00 [DBG] Augmenting SignInContext
2018-12-25 19:17:23.987 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 19:17:23.987 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 19:17:23.987 +03:00 [DBG] Adding auth_time claim with value: 1545754643
2018-12-25 19:17:23.987 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 19:17:23.999 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:23.999 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:24.004 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 19:17:24.005 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 19:17:24.005 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 19:17:24.005 +03:00 [DBG] Start authorize callback request
2018-12-25 19:17:24.005 +03:00 [DBG] User in authorize request: 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 19:17:24.005 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 19:17:24.016 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:24.016 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:24.019 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:24.021 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:24.024 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 19:17:24.025 +03:00 [DBG] Found [] API scopes in database
2018-12-25 19:17:24.026 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 19:17:24.026 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uxN2fjdhR3w8TJpFOECEi9b3w1J5VAY1AAEXQtdkfEqQ_OGa--g4-AJupMj2x0oShyprIyAE1ZTBIunQIbO88qsy0E6KtOnqwphBuKxuci1uhdUsPFprs7mhTn-et0xXhDMljziVb0mbRa-HMxvKjo2xInj7Elyh7TRYwXgQiBNltSPhf8q3-wdAGPOTzv8tCtOP-tSHW9mxWkD7YTlsMGU_qKgGtv7-D7Q3d6X1oh9EHSorB8RN58opv3jr_OtlycDLMos0hMx2O_62CWVSFm-6WKkeF-1QrMxWXwvTSoOA","UiLocales":null,"Nonce":"636813514378239330.OWVmNjZhNmItYjQ2My00NDYwLTk5ZWYtNzk5NWIzNzVlMzZlMWMyYjAyOWEtODcwZi00NThkLTlmNDItMDY0YzUxOWFhZDU3","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"67af03f42119a30fcdc6d76c10d463af","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813514378239330.OWVmNjZhNmItYjQ2My00NDYwLTk5ZWYtNzk5NWIzNzVlMzZlMWMyYjAyOWEtODcwZi00NThkLTlmNDItMDY0YzUxOWFhZDU3","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uxN2fjdhR3w8TJpFOECEi9b3w1J5VAY1AAEXQtdkfEqQ_OGa--g4-AJupMj2x0oShyprIyAE1ZTBIunQIbO88qsy0E6KtOnqwphBuKxuci1uhdUsPFprs7mhTn-et0xXhDMljziVb0mbRa-HMxvKjo2xInj7Elyh7TRYwXgQiBNltSPhf8q3-wdAGPOTzv8tCtOP-tSHW9mxWkD7YTlsMGU_qKgGtv7-D7Q3d6X1oh9EHSorB8RN58opv3jr_OtlycDLMos0hMx2O_62CWVSFm-6WKkeF-1QrMxWXwvTSoOA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 19:17:24.029 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 19:17:24.029 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 19:17:24.029 +03:00 [DBG] Getting claims for identity token for subject: 7575d865-ef43-48d9-9cb0-9e919bd53b2e and client: northwind
2018-12-25 19:17:24.046 +03:00 [INF] Authorize endpoint response
{"SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uxN2fjdhR3w8TJpFOECEi9b3w1J5VAY1AAEXQtdkfEqQ_OGa--g4-AJupMj2x0oShyprIyAE1ZTBIunQIbO88qsy0E6KtOnqwphBuKxuci1uhdUsPFprs7mhTn-et0xXhDMljziVb0mbRa-HMxvKjo2xInj7Elyh7TRYwXgQiBNltSPhf8q3-wdAGPOTzv8tCtOP-tSHW9mxWkD7YTlsMGU_qKgGtv7-D7Q3d6X1oh9EHSorB8RN58opv3jr_OtlycDLMos0hMx2O_62CWVSFm-6WKkeF-1QrMxWXwvTSoOA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 19:17:24.047 +03:00 [DBG] Augmenting SignInContext
2018-12-25 19:17:24.047 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 19:17:29.745 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 19:17:29.745 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 19:17:29.745 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 19:17:29.745 +03:00 [DBG] Processing signout request for 7575d865-ef43-48d9-9cb0-9e919bd53b2e
2018-12-25 19:17:29.745 +03:00 [DBG] Start end session request validation
2018-12-25 19:17:29.745 +03:00 [DBG] Start identity token validation
2018-12-25 19:17:29.758 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:29.758 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:29.758 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 19:17:29.762 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 19:17:29.762 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545754644,"exp":1545754944,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813514378239330.OWVmNjZhNmItYjQ2My00NDYwLTk5ZWYtNzk5NWIzNzVlMzZlMWMyYjAyOWEtODcwZi00NThkLTlmNDItMDY0YzUxOWFhZDU3","iat":1545754644,"sid":"67af03f42119a30fcdc6d76c10d463af","sub":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","auth_time":1545754643,"idp":"local","name":"Alice Smith","given_name":"Alice","family_name":"Smith","website":"http://alice.com","preferred_username":"alice","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 19:17:29.763 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"7575d865-ef43-48d9-9cb0-9e919bd53b2e","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95st-AIm3MrAgKO8HugKVg7yFf-UiYT0KRBe4u2RYwOY9X1vOJukqiFswSVFoRhsxUEyJ_6bsRdBY3-s1eZrjyu1T-X66VX6VE_l2bF2ycKXqtDN2qJAanXpBRV_CCFfpV0","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NTQ2NDQsImV4cCI6MTU0NTc1NDk0NCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNTE0Mzc4MjM5MzMwLk9XVm1OalpoTm1JdFlqUTJNeTAwTkRZd0xUazVaV1l0TnprNU5XSXpOelZsTXpabE1XTXlZakF5T1dFdE9EY3daaTAwTlRoa0xUbG1OREl0TURZMFl6VXhPV0ZoWkRVMyIsImlhdCI6MTU0NTc1NDY0NCwic2lkIjoiNjdhZjAzZjQyMTE5YTMwZmNkYzZkNzZjMTBkNDYzYWYiLCJzdWIiOiI3NTc1ZDg2NS1lZjQzLTQ4ZDktOWNiMC05ZTkxOWJkNTNiMmUiLCJhdXRoX3RpbWUiOjE1NDU3NTQ2NDMsImlkcCI6ImxvY2FsIiwibmFtZSI6IkFsaWNlIFNtaXRoIiwiZ2l2ZW5fbmFtZSI6IkFsaWNlIiwiZmFtaWx5X25hbWUiOiJTbWl0aCIsIndlYnNpdGUiOiJodHRwOi8vYWxpY2UuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2UiLCJhbXIiOlsicHdkIl19.NGCX6ZjzrpsdyOBhHcf9EOGfpmmUQuFNtlnoN7ZtInRwczPxXlLf5qSXK9Tp1RvagQo1I7P8GBnvf7MDSYbcGgVyy1gMMki_oiCA97AHfDnIqVca2igjrfH4keIKVbtmGFv9yeaPl7TTmawN9keyoVShF5mvoluODi6osn_bjHx13-S4MQkgyqEAOVvTgde_OsQVyrhjY20xWhZ6el9dki2lqMwnHvz3FvMyIOevmFaUm_51YgQAs6tWc2R9GB28sdvSk_ltSQ2GrStayNIOFY-pmM8XI3UIuwGLvNIuFdQqJ2QuijvYJo9Vxyp18gZyJd3h2N_FO2IqXgBjtATAOQ","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95st-AIm3MrAgKO8HugKVg7yFf-UiYT0KRBe4u2RYwOY9X1vOJukqiFswSVFoRhsxUEyJ_6bsRdBY3-s1eZrjyu1T-X66VX6VE_l2bF2ycKXqtDN2qJAanXpBRV_CCFfpV0","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 19:17:29.765 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 19:17:29.773 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 19:17:29.774 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 19:17:29.774 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 19:17:29.874 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 19:17:29.875 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 19:17:29.875 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 19:17:29.875 +03:00 [DBG] Processing signout callback request
2018-12-25 19:17:29.889 +03:00 [DBG] northwind found in database: true
2018-12-25 19:17:29.889 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 19:17:29.890 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 19:17:29.890 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 19:17:29.890 +03:00 [INF] Successful signout callback.
2018-12-25 19:17:29.890 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 19:17:29.890 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 21:13:37.165 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 21:13:37.180 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 21:13:37.180 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 21:13:37.180 +03:00 [DBG] Start discovery request
2018-12-25 21:13:37.315 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 21:13:37.401 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 21:13:37.404 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 21:13:37.404 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 21:13:37.404 +03:00 [DBG] Start key discovery request
2018-12-25 21:13:37.477 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 21:13:37.478 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 21:13:37.478 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 21:13:37.478 +03:00 [DBG] Processing signout request for anonymous
2018-12-25 21:13:37.479 +03:00 [DBG] Start end session request validation
2018-12-25 21:13:37.482 +03:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sbWjKpw5l55EK-g-pEf3XEa_YuMtdnmC496YQuGfZ3hShk0tbPWob0dyLN_RQBnl1xwv-eAP7bAy1FicPlUwG6SVDeZ_EXDvWSRB7ZziC7Nsyl7uDfoVGZYG6hWEwXPhc","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 21:13:37.482 +03:00 [DBG] Success validating end session request from null
2018-12-25 22:45:31.991 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-25 22:45:31.998 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-25 22:45:31.998 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-25 22:45:31.998 +03:00 [DBG] Start discovery request
2018-12-25 22:45:32.091 +03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-25 22:45:32.125 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-12-25 22:45:32.127 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-12-25 22:45:32.127 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-12-25 22:45:32.127 +03:00 [DBG] Start key discovery request
2018-12-25 22:45:32.175 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 22:45:32.181 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 22:45:32.181 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 22:45:32.181 +03:00 [DBG] Start authorize request
2018-12-25 22:45:32.182 +03:00 [DBG] No user present in authorize request
2018-12-25 22:45:32.182 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:32.253 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:32.254 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:32.271 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:32.277 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:32.283 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:32.288 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:32.288 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:32.290 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95s8c_B4CPBMoBIzWVE3erBoF-lTC-fv-PNtXrKIUhYpsOBcYaDy-EQhWfigETvZrQ8f5qqoeUh_k65DpEh3tj7eZEtQCRp8y2DMBzDpA7JH4nhKWCiQWEmkOhFAz-H9Cfi7lNZgbHVCPJFYdxPU5YvbMA8QeBpkKpfxf_UHsK_zuETIFjZOKSvs-fQ1NEbZymDsSfjG-XoDDaj-cio4btb8gcsiB9Ft58vGWFvmFMlDNvWoO06rNwGehcqn5-R2VjUFndPm6yXgsDrO_Q9V9XDqZXvmF3NDCqxQpqLuagELWA","UiLocales":null,"Nonce":"636813639321494800.MmUzOWE2NjEtM2Y5NS00ZTg0LTkzYjgtMWVjOGNjZjk2NWFjYzg0Zjk5ZjktNjZiZi00YThmLTg0MDUtMmY2OGYxZTEzYmZj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813639321494800.MmUzOWE2NjEtM2Y5NS00ZTg0LTkzYjgtMWVjOGNjZjk2NWFjYzg0Zjk5ZjktNjZiZi00YThmLTg0MDUtMmY2OGYxZTEzYmZj","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95s8c_B4CPBMoBIzWVE3erBoF-lTC-fv-PNtXrKIUhYpsOBcYaDy-EQhWfigETvZrQ8f5qqoeUh_k65DpEh3tj7eZEtQCRp8y2DMBzDpA7JH4nhKWCiQWEmkOhFAz-H9Cfi7lNZgbHVCPJFYdxPU5YvbMA8QeBpkKpfxf_UHsK_zuETIFjZOKSvs-fQ1NEbZymDsSfjG-XoDDaj-cio4btb8gcsiB9Ft58vGWFvmFMlDNvWoO06rNwGehcqn5-R2VjUFndPm6yXgsDrO_Q9V9XDqZXvmF3NDCqxQpqLuagELWA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 22:45:32.293 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 22:45:32.306 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:32.319 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:32.319 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:32.324 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:32.326 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:32.331 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:32.333 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:32.333 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:32.350 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:32.350 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:39.185 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 22:45:39.195 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:39.210 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:39.210 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:39.214 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:39.216 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:39.219 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:39.220 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:39.220 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:39.332 +03:00 [DBG] Augmenting SignInContext
2018-12-25 22:45:39.332 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 22:45:39.332 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 22:45:39.333 +03:00 [DBG] Adding auth_time claim with value: 1545767139
2018-12-25 22:45:39.334 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 22:45:39.349 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:39.349 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:39.361 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 22:45:39.363 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 22:45:39.366 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 22:45:39.367 +03:00 [DBG] Start authorize callback request
2018-12-25 22:45:39.367 +03:00 [DBG] User in authorize request: 1f7272a2-1f1b-40b0-8f50-d6174ddcf009
2018-12-25 22:45:39.369 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:39.390 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:39.390 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:39.395 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:39.397 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:39.402 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:39.406 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:39.407 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:39.407 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"1f7272a2-1f1b-40b0-8f50-d6174ddcf009","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95s8c_B4CPBMoBIzWVE3erBoF-lTC-fv-PNtXrKIUhYpsOBcYaDy-EQhWfigETvZrQ8f5qqoeUh_k65DpEh3tj7eZEtQCRp8y2DMBzDpA7JH4nhKWCiQWEmkOhFAz-H9Cfi7lNZgbHVCPJFYdxPU5YvbMA8QeBpkKpfxf_UHsK_zuETIFjZOKSvs-fQ1NEbZymDsSfjG-XoDDaj-cio4btb8gcsiB9Ft58vGWFvmFMlDNvWoO06rNwGehcqn5-R2VjUFndPm6yXgsDrO_Q9V9XDqZXvmF3NDCqxQpqLuagELWA","UiLocales":null,"Nonce":"636813639321494800.MmUzOWE2NjEtM2Y5NS00ZTg0LTkzYjgtMWVjOGNjZjk2NWFjYzg0Zjk5ZjktNjZiZi00YThmLTg0MDUtMmY2OGYxZTEzYmZj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"d76fc8ddf2b7fb270dfefebe302d9ebb","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813639321494800.MmUzOWE2NjEtM2Y5NS00ZTg0LTkzYjgtMWVjOGNjZjk2NWFjYzg0Zjk5ZjktNjZiZi00YThmLTg0MDUtMmY2OGYxZTEzYmZj","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95s8c_B4CPBMoBIzWVE3erBoF-lTC-fv-PNtXrKIUhYpsOBcYaDy-EQhWfigETvZrQ8f5qqoeUh_k65DpEh3tj7eZEtQCRp8y2DMBzDpA7JH4nhKWCiQWEmkOhFAz-H9Cfi7lNZgbHVCPJFYdxPU5YvbMA8QeBpkKpfxf_UHsK_zuETIFjZOKSvs-fQ1NEbZymDsSfjG-XoDDaj-cio4btb8gcsiB9Ft58vGWFvmFMlDNvWoO06rNwGehcqn5-R2VjUFndPm6yXgsDrO_Q9V9XDqZXvmF3NDCqxQpqLuagELWA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 22:45:39.413 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 22:45:39.413 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 22:45:39.413 +03:00 [DBG] Getting claims for identity token for subject: 1f7272a2-1f1b-40b0-8f50-d6174ddcf009 and client: northwind
2018-12-25 22:45:39.438 +03:00 [INF] Authorize endpoint response
{"SubjectId":"1f7272a2-1f1b-40b0-8f50-d6174ddcf009","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95s8c_B4CPBMoBIzWVE3erBoF-lTC-fv-PNtXrKIUhYpsOBcYaDy-EQhWfigETvZrQ8f5qqoeUh_k65DpEh3tj7eZEtQCRp8y2DMBzDpA7JH4nhKWCiQWEmkOhFAz-H9Cfi7lNZgbHVCPJFYdxPU5YvbMA8QeBpkKpfxf_UHsK_zuETIFjZOKSvs-fQ1NEbZymDsSfjG-XoDDaj-cio4btb8gcsiB9Ft58vGWFvmFMlDNvWoO06rNwGehcqn5-R2VjUFndPm6yXgsDrO_Q9V9XDqZXvmF3NDCqxQpqLuagELWA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 22:45:39.439 +03:00 [DBG] Augmenting SignInContext
2018-12-25 22:45:39.440 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 22:45:42.693 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 22:45:42.695 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 22:45:42.695 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 22:45:42.695 +03:00 [DBG] Processing signout request for 1f7272a2-1f1b-40b0-8f50-d6174ddcf009
2018-12-25 22:45:42.695 +03:00 [DBG] Start end session request validation
2018-12-25 22:45:42.696 +03:00 [DBG] Start identity token validation
2018-12-25 22:45:42.720 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:42.720 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:42.720 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 22:45:42.734 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 22:45:42.734 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545767139,"exp":1545767439,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813639321494800.MmUzOWE2NjEtM2Y5NS00ZTg0LTkzYjgtMWVjOGNjZjk2NWFjYzg0Zjk5ZjktNjZiZi00YThmLTg0MDUtMmY2OGYxZTEzYmZj","iat":1545767139,"sid":"d76fc8ddf2b7fb270dfefebe302d9ebb","sub":"1f7272a2-1f1b-40b0-8f50-d6174ddcf009","auth_time":1545767139,"idp":"local","preferred_username":"syrtsou.ilia@gmail.com","name":"syrtsou.ilia@gmail.com","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 22:45:42.738 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"1f7272a2-1f1b-40b0-8f50-d6174ddcf009","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sdPHUrBI0eIVl6Ekt1QTTq6xHKRd1xTG4ktTHWYCZ9vuhj4cEdKiswDPna6jGcASB2WNJ8h0f-1kOmKUSWUdxS6rcR0znrUKnMnE6xfObhqS0LNEJOdmIjVBjCDkietA4","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NjcxMzksImV4cCI6MTU0NTc2NzQzOSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNjM5MzIxNDk0ODAwLk1tVXpPV0UyTmpFdE0yWTVOUzAwWlRnMExUa3pZamd0TVdWak9HTmpaamsyTldGall6ZzBaams1WmprdE5qWmlaaTAwWVRobUxUZzBNRFV0TW1ZMk9HWXhaVEV6WW1aaiIsImlhdCI6MTU0NTc2NzEzOSwic2lkIjoiZDc2ZmM4ZGRmMmI3ZmIyNzBkZmVmZWJlMzAyZDllYmIiLCJzdWIiOiIxZjcyNzJhMi0xZjFiLTQwYjAtOGY1MC1kNjE3NGRkY2YwMDkiLCJhdXRoX3RpbWUiOjE1NDU3NjcxMzksImlkcCI6ImxvY2FsIiwicHJlZmVycmVkX3VzZXJuYW1lIjoic3lydHNvdS5pbGlhQGdtYWlsLmNvbSIsIm5hbWUiOiJzeXJ0c291LmlsaWFAZ21haWwuY29tIiwiYW1yIjpbInB3ZCJdfQ.tFSghn8eHBvPr0OlgGXCH4LFiwdShllMwrZ5yWnkAizTE4SbOcna5K3yWxeNqGL6_-GqBrk4hEC4sGCFw0IPmQLt7lP7_j3CFGWblwaeLv-jgvS0Fn-t1cO1-LUfIEGQh_a5LhPdnQTDK-TT2a0t4cQzLvMNk2DFbj5s9ISNkN01c6Kqe9VFbMbzdBBuLdcMPkb65t2F6GEOftBVqTMQ0UB0WrUEd6JOh8Xs8p_dABN_qQlVxGWNmfYgygK-rDg4UtngoKcMU8SHKpw73mys3U7Et9DCSlQ5YLPzuZ1u58y3FrZ3VIEmat9S7sVhS26TuaX-VXW1KV9ik4DA00iaKA","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sdPHUrBI0eIVl6Ekt1QTTq6xHKRd1xTG4ktTHWYCZ9vuhj4cEdKiswDPna6jGcASB2WNJ8h0f-1kOmKUSWUdxS6rcR0znrUKnMnE6xfObhqS0LNEJOdmIjVBjCDkietA4","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 22:45:42.739 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 22:45:42.766 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 22:45:42.766 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 22:45:42.766 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 22:45:42.856 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 22:45:42.862 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 22:45:42.862 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 22:45:42.863 +03:00 [DBG] Processing signout callback request
2018-12-25 22:45:42.877 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:42.877 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:42.877 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 22:45:42.877 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 22:45:42.877 +03:00 [INF] Successful signout callback.
2018-12-25 22:45:42.877 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 22:45:42.877 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 22:45:47.416 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 22:45:47.417 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 22:45:47.417 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 22:45:47.417 +03:00 [DBG] Start authorize request
2018-12-25 22:45:47.417 +03:00 [DBG] No user present in authorize request
2018-12-25 22:45:47.417 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:47.437 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:47.437 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:47.442 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:47.445 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:47.454 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:47.457 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:47.457 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:47.457 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uuHw2V_J25N3hEhI0_EcjGtamclcNvtrIXO-Nasin-roXdMn8j-NMA0yjwAbwwZHGLbX5WhZwVdK7zk_Ce1TEv-wvCO_dLeTk1D-2B1VV2hRH9tdSfUHx82GWzFluvRdGewDIemdrRjcuKokjdmnt4bmagsC22it6HwZW-nWhYMgkGkX6gMQoA8mCcejD0GpwSW19Kmiy-sn9zjPdrahN7kmoHiaSUqdv9y08fo1F_l_xSU7HtHnVwwka_o_9OB_2tmoFapC5zOO4MChNKxaq-zsNk2Bymg1sl_x6uC50RAw","UiLocales":null,"Nonce":"636813639474018910.MDVmZmRmZDMtNjk3ZC00ODMwLTg3NmQtYTg4Y2JiMTY3NDczYjRiY2Q1YTUtMzY1OC00OGYzLWFlMDEtNTZhMWIyZDg3ZGY1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813639474018910.MDVmZmRmZDMtNjk3ZC00ODMwLTg3NmQtYTg4Y2JiMTY3NDczYjRiY2Q1YTUtMzY1OC00OGYzLWFlMDEtNTZhMWIyZDg3ZGY1","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uuHw2V_J25N3hEhI0_EcjGtamclcNvtrIXO-Nasin-roXdMn8j-NMA0yjwAbwwZHGLbX5WhZwVdK7zk_Ce1TEv-wvCO_dLeTk1D-2B1VV2hRH9tdSfUHx82GWzFluvRdGewDIemdrRjcuKokjdmnt4bmagsC22it6HwZW-nWhYMgkGkX6gMQoA8mCcejD0GpwSW19Kmiy-sn9zjPdrahN7kmoHiaSUqdv9y08fo1F_l_xSU7HtHnVwwka_o_9OB_2tmoFapC5zOO4MChNKxaq-zsNk2Bymg1sl_x6uC50RAw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 22:45:47.459 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 22:45:47.470 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:47.487 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:47.487 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:47.492 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:47.495 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:47.501 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:47.504 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:47.504 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:47.517 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:47.517 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:50.044 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 22:45:50.047 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:50.063 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:50.064 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:50.067 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:50.070 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:50.076 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:50.079 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:50.079 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:50.084 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:50.104 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:50.104 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:50.117 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:50.120 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:50.126 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:50.128 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:50.128 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:50.140 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:50.140 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:51.303 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 22:45:51.306 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:51.320 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:51.321 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:51.326 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:51.330 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:51.335 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:51.337 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:51.337 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:51.371 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:51.371 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:51.380 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 22:45:51.382 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 22:45:51.383 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 22:45:51.384 +03:00 [DBG] Start authorize callback request
2018-12-25 22:45:51.385 +03:00 [DBG] No user present in authorize request
2018-12-25 22:45:51.386 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:45:51.398 +03:00 [DBG] northwind found in database: true
2018-12-25 22:45:51.398 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:45:51.401 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:51.403 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:51.408 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:45:51.411 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:45:51.411 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:45:51.412 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uuHw2V_J25N3hEhI0_EcjGtamclcNvtrIXO-Nasin-roXdMn8j-NMA0yjwAbwwZHGLbX5WhZwVdK7zk_Ce1TEv-wvCO_dLeTk1D-2B1VV2hRH9tdSfUHx82GWzFluvRdGewDIemdrRjcuKokjdmnt4bmagsC22it6HwZW-nWhYMgkGkX6gMQoA8mCcejD0GpwSW19Kmiy-sn9zjPdrahN7kmoHiaSUqdv9y08fo1F_l_xSU7HtHnVwwka_o_9OB_2tmoFapC5zOO4MChNKxaq-zsNk2Bymg1sl_x6uC50RAw","UiLocales":null,"Nonce":"636813639474018910.MDVmZmRmZDMtNjk3ZC00ODMwLTg3NmQtYTg4Y2JiMTY3NDczYjRiY2Q1YTUtMzY1OC00OGYzLWFlMDEtNTZhMWIyZDg3ZGY1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813639474018910.MDVmZmRmZDMtNjk3ZC00ODMwLTg3NmQtYTg4Y2JiMTY3NDczYjRiY2Q1YTUtMzY1OC00OGYzLWFlMDEtNTZhMWIyZDg3ZGY1","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uuHw2V_J25N3hEhI0_EcjGtamclcNvtrIXO-Nasin-roXdMn8j-NMA0yjwAbwwZHGLbX5WhZwVdK7zk_Ce1TEv-wvCO_dLeTk1D-2B1VV2hRH9tdSfUHx82GWzFluvRdGewDIemdrRjcuKokjdmnt4bmagsC22it6HwZW-nWhYMgkGkX6gMQoA8mCcejD0GpwSW19Kmiy-sn9zjPdrahN7kmoHiaSUqdv9y08fo1F_l_xSU7HtHnVwwka_o_9OB_2tmoFapC5zOO4MChNKxaq-zsNk2Bymg1sl_x6uC50RAw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 22:45:51.413 +03:00 [INF] Error: User denied consent
2018-12-25 22:45:51.414 +03:00 [INF] {"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uuHw2V_J25N3hEhI0_EcjGtamclcNvtrIXO-Nasin-roXdMn8j-NMA0yjwAbwwZHGLbX5WhZwVdK7zk_Ce1TEv-wvCO_dLeTk1D-2B1VV2hRH9tdSfUHx82GWzFluvRdGewDIemdrRjcuKokjdmnt4bmagsC22it6HwZW-nWhYMgkGkX6gMQoA8mCcejD0GpwSW19Kmiy-sn9zjPdrahN7kmoHiaSUqdv9y08fo1F_l_xSU7HtHnVwwka_o_9OB_2tmoFapC5zOO4MChNKxaq-zsNk2Bymg1sl_x6uC50RAw","UiLocales":null,"Nonce":"636813639474018910.MDVmZmRmZDMtNjk3ZC00ODMwLTg3NmQtYTg4Y2JiMTY3NDczYjRiY2Q1YTUtMzY1OC00OGYzLWFlMDEtNTZhMWIyZDg3ZGY1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813639474018910.MDVmZmRmZDMtNjk3ZC00ODMwLTg3NmQtYTg4Y2JiMTY3NDczYjRiY2Q1YTUtMzY1OC00OGYzLWFlMDEtNTZhMWIyZDg3ZGY1","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uuHw2V_J25N3hEhI0_EcjGtamclcNvtrIXO-Nasin-roXdMn8j-NMA0yjwAbwwZHGLbX5WhZwVdK7zk_Ce1TEv-wvCO_dLeTk1D-2B1VV2hRH9tdSfUHx82GWzFluvRdGewDIemdrRjcuKokjdmnt4bmagsC22it6HwZW-nWhYMgkGkX6gMQoA8mCcejD0GpwSW19Kmiy-sn9zjPdrahN7kmoHiaSUqdv9y08fo1F_l_xSU7HtHnVwwka_o_9OB_2tmoFapC5zOO4MChNKxaq-zsNk2Bymg1sl_x6uC50RAw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 22:46:05.249 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 22:46:05.263 +03:00 [DBG] northwind found in database: true
2018-12-25 22:46:05.263 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 22:46:05.267 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:46:05.272 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:46:05.278 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 22:46:05.281 +03:00 [DBG] Found [] API scopes in database
2018-12-25 22:46:05.281 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 22:46:05.296 +03:00 [DBG] northwind found in database: true
2018-12-25 22:46:05.296 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:23:55.206 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 23:23:55.210 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 23:23:55.210 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 23:23:55.210 +03:00 [DBG] Start authorize request
2018-12-25 23:23:55.210 +03:00 [DBG] No user present in authorize request
2018-12-25 23:23:55.210 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:23:55.293 +03:00 [DBG] northwind found in database: true
2018-12-25 23:23:55.294 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:23:55.299 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:23:55.302 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:23:55.306 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:23:55.307 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:23:55.308 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:23:55.308 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vgcMOrLqlnbtjA-xpJZsxR4cDK7tawZwurzegt860-boRhT0cQYWCLCBEMqKygN8IQubjTgyX0DmgU_Byz8mFo8B8jz1LaWDYbNn8YgPEkwH3wLh4lAbcXz14jC9pCIVT02cPtVyRm8RnPyMqYupJHegapFW9dfPYlR0kIE3CPwFhv8RgHyDhpw-nOK94NaTgfUj4mAP-ChjdSeNFUKZBKUAQPsBCU0s94v_Aij6M6IZuqzbS_AN5cThCNk-468RshTRFDwUrnx6XVMXGwrKZtqUUjOGgq-wBSTWxz_-TpSQ","UiLocales":null,"Nonce":"636813662351695210.ZGY2ZmE3YTctNTQyYi00ODJhLTg0YzEtZDljM2RlZmFmNzVmN2Y1Nzc3ZWUtNjM4NS00MTNlLThiOWUtOWRlNGEwOTMxMDUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813662351695210.ZGY2ZmE3YTctNTQyYi00ODJhLTg0YzEtZDljM2RlZmFmNzVmN2Y1Nzc3ZWUtNjM4NS00MTNlLThiOWUtOWRlNGEwOTMxMDUx","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vgcMOrLqlnbtjA-xpJZsxR4cDK7tawZwurzegt860-boRhT0cQYWCLCBEMqKygN8IQubjTgyX0DmgU_Byz8mFo8B8jz1LaWDYbNn8YgPEkwH3wLh4lAbcXz14jC9pCIVT02cPtVyRm8RnPyMqYupJHegapFW9dfPYlR0kIE3CPwFhv8RgHyDhpw-nOK94NaTgfUj4mAP-ChjdSeNFUKZBKUAQPsBCU0s94v_Aij6M6IZuqzbS_AN5cThCNk-468RshTRFDwUrnx6XVMXGwrKZtqUUjOGgq-wBSTWxz_-TpSQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:23:55.313 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 23:23:55.324 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:23:55.334 +03:00 [DBG] northwind found in database: true
2018-12-25 23:23:55.334 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:23:55.337 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:23:55.339 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:23:55.342 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:23:55.344 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:23:55.344 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:23:55.353 +03:00 [DBG] northwind found in database: true
2018-12-25 23:23:55.353 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:02.217 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:24:02.221 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:24:02.234 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:02.234 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:02.237 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:02.239 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:02.243 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:02.246 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:02.246 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:24:02.335 +03:00 [DBG] Augmenting SignInContext
2018-12-25 23:24:02.335 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 23:24:02.335 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 23:24:02.336 +03:00 [DBG] Adding auth_time claim with value: 1545769442
2018-12-25 23:24:02.336 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 23:24:02.347 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:02.348 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:02.355 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 23:24:02.355 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 23:24:02.355 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 23:24:02.356 +03:00 [DBG] Start authorize callback request
2018-12-25 23:24:02.356 +03:00 [DBG] User in authorize request: bfc4cede-28b3-4f81-8862-06861a313cec
2018-12-25 23:24:02.356 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:24:02.378 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:02.378 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:02.385 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:02.388 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:02.394 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:02.398 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:02.399 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:24:02.400 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"bfc4cede-28b3-4f81-8862-06861a313cec","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vgcMOrLqlnbtjA-xpJZsxR4cDK7tawZwurzegt860-boRhT0cQYWCLCBEMqKygN8IQubjTgyX0DmgU_Byz8mFo8B8jz1LaWDYbNn8YgPEkwH3wLh4lAbcXz14jC9pCIVT02cPtVyRm8RnPyMqYupJHegapFW9dfPYlR0kIE3CPwFhv8RgHyDhpw-nOK94NaTgfUj4mAP-ChjdSeNFUKZBKUAQPsBCU0s94v_Aij6M6IZuqzbS_AN5cThCNk-468RshTRFDwUrnx6XVMXGwrKZtqUUjOGgq-wBSTWxz_-TpSQ","UiLocales":null,"Nonce":"636813662351695210.ZGY2ZmE3YTctNTQyYi00ODJhLTg0YzEtZDljM2RlZmFmNzVmN2Y1Nzc3ZWUtNjM4NS00MTNlLThiOWUtOWRlNGEwOTMxMDUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a193ff5dfd05d23f434f5e1a062219f5","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813662351695210.ZGY2ZmE3YTctNTQyYi00ODJhLTg0YzEtZDljM2RlZmFmNzVmN2Y1Nzc3ZWUtNjM4NS00MTNlLThiOWUtOWRlNGEwOTMxMDUx","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vgcMOrLqlnbtjA-xpJZsxR4cDK7tawZwurzegt860-boRhT0cQYWCLCBEMqKygN8IQubjTgyX0DmgU_Byz8mFo8B8jz1LaWDYbNn8YgPEkwH3wLh4lAbcXz14jC9pCIVT02cPtVyRm8RnPyMqYupJHegapFW9dfPYlR0kIE3CPwFhv8RgHyDhpw-nOK94NaTgfUj4mAP-ChjdSeNFUKZBKUAQPsBCU0s94v_Aij6M6IZuqzbS_AN5cThCNk-468RshTRFDwUrnx6XVMXGwrKZtqUUjOGgq-wBSTWxz_-TpSQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:24:02.412 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 23:24:02.412 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 23:24:02.413 +03:00 [DBG] Getting claims for identity token for subject: bfc4cede-28b3-4f81-8862-06861a313cec and client: northwind
2018-12-25 23:24:02.442 +03:00 [INF] Authorize endpoint response
{"SubjectId":"bfc4cede-28b3-4f81-8862-06861a313cec","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vgcMOrLqlnbtjA-xpJZsxR4cDK7tawZwurzegt860-boRhT0cQYWCLCBEMqKygN8IQubjTgyX0DmgU_Byz8mFo8B8jz1LaWDYbNn8YgPEkwH3wLh4lAbcXz14jC9pCIVT02cPtVyRm8RnPyMqYupJHegapFW9dfPYlR0kIE3CPwFhv8RgHyDhpw-nOK94NaTgfUj4mAP-ChjdSeNFUKZBKUAQPsBCU0s94v_Aij6M6IZuqzbS_AN5cThCNk-468RshTRFDwUrnx6XVMXGwrKZtqUUjOGgq-wBSTWxz_-TpSQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 23:24:02.444 +03:00 [DBG] Augmenting SignInContext
2018-12-25 23:24:02.444 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 23:24:45.792 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 23:24:45.848 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 23:24:45.848 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 23:24:45.848 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 23:24:45.848 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 23:24:45.848 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 23:24:45.848 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 23:24:52.408 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 23:24:52.410 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 23:24:52.410 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 23:24:52.410 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 23:24:52.410 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 23:24:52.410 +03:00 [DBG] Error Url: /home/error
2018-12-25 23:24:52.410 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 23:24:52.466 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-25 23:24:52.472 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-25 23:24:52.472 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-25 23:24:52.489 +03:00 [DBG] Processing signout request for bfc4cede-28b3-4f81-8862-06861a313cec
2018-12-25 23:24:52.496 +03:00 [DBG] Start end session request validation
2018-12-25 23:24:52.506 +03:00 [DBG] Start identity token validation
2018-12-25 23:24:53.207 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:53.219 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:53.219 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-25 23:24:53.432 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-25 23:24:53.445 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545769442,"exp":1545769742,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813662351695210.ZGY2ZmE3YTctNTQyYi00ODJhLTg0YzEtZDljM2RlZmFmNzVmN2Y1Nzc3ZWUtNjM4NS00MTNlLThiOWUtOWRlNGEwOTMxMDUx","iat":1545769442,"sid":"a193ff5dfd05d23f434f5e1a062219f5","sub":"bfc4cede-28b3-4f81-8862-06861a313cec","auth_time":1545769442,"idp":"local","preferred_username":"ilia_syrtsou@epam.com","name":"ilia_syrtsou@epam.com","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-25 23:24:53.467 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"bfc4cede-28b3-4f81-8862-06861a313cec","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95spgcZu0E6Zp2GlVLQWjaOmerKl0cMehCSb4CsZwPooMvZpyhy905qb1dQD68W1pqKOfEk1eh2hq-G9sTl0nlJyzDAdectHEJItExwOnHSze_nUsDWY0WT1Fd3ES2nhjFc","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3Njk0NDIsImV4cCI6MTU0NTc2OTc0MiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNjYyMzUxNjk1MjEwLlpHWTJabUUzWVRjdE5UUXlZaTAwT0RKaExUZzBZekV0WkRsak0yUmxabUZtTnpWbU4yWTFOemMzWldVdE5qTTROUzAwTVRObExUaGlPV1V0T1dSbE5HRXdPVE14TURVeCIsImlhdCI6MTU0NTc2OTQ0Miwic2lkIjoiYTE5M2ZmNWRmZDA1ZDIzZjQzNGY1ZTFhMDYyMjE5ZjUiLCJzdWIiOiJiZmM0Y2VkZS0yOGIzLTRmODEtODg2Mi0wNjg2MWEzMTNjZWMiLCJhdXRoX3RpbWUiOjE1NDU3Njk0NDIsImlkcCI6ImxvY2FsIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiaWxpYV9zeXJ0c291QGVwYW0uY29tIiwibmFtZSI6ImlsaWFfc3lydHNvdUBlcGFtLmNvbSIsImFtciI6WyJwd2QiXX0.FJ_h58M75inJfzi3sFWPp7l3EIB3N5HZxNMSOZUOtdoZZ-hl2jr0i-bjfyaP6ji7Zputt8B3dc2JnWngT-27JSAoGCmCLo7pg1BDciihla4P5eU9Xr8P_sb0Ien_bhNSvsXxKe3WQkHCvC51ZOKRHTjFNyoZwDBcdrJ0zfnr8wUvmTtZaZxPE3QRUS-aaBMg0vGLuYEPUr5GoWOFnJ_Kt59NVFEwQRe-4zPbQoPeDqKKmJtE0AEl1Xxhpwe261FXVDUpxvycN3TGWklQtj5tHLQ1dWv3e-16Ff-76LvAv8-ijnndqJZfCzryoeaedstl1PXE1Jv-CyBST0EpYV7c6Q","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95spgcZu0E6Zp2GlVLQWjaOmerKl0cMehCSb4CsZwPooMvZpyhy905qb1dQD68W1pqKOfEk1eh2hq-G9sTl0nlJyzDAdectHEJItExwOnHSze_nUsDWY0WT1Fd3ES2nhjFc","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-25 23:24:53.468 +03:00 [DBG] Success validating end session request from northwind
2018-12-25 23:24:53.708 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-25 23:24:53.709 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-25 23:24:53.709 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-25 23:24:53.928 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-25 23:24:53.932 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-25 23:24:53.932 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-25 23:24:53.938 +03:00 [DBG] Processing signout callback request
2018-12-25 23:24:53.968 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:53.969 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:53.969 +03:00 [DBG] No client front-channel logout URLs
2018-12-25 23:24:53.969 +03:00 [DBG] No client back-channel logout URLs
2018-12-25 23:24:53.969 +03:00 [INF] Successful signout callback.
2018-12-25 23:24:53.969 +03:00 [DBG] No client front-channel iframe urls
2018-12-25 23:24:53.969 +03:00 [DBG] No client back-channel iframe urls
2018-12-25 23:24:57.309 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 23:24:57.312 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 23:24:57.312 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 23:24:57.316 +03:00 [DBG] Start authorize request
2018-12-25 23:24:57.322 +03:00 [DBG] No user present in authorize request
2018-12-25 23:24:57.330 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:24:57.348 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:57.348 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:57.434 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:57.562 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:57.576 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:57.577 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:57.587 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:24:57.590 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95u-1HClPd9uylndZU7-JXdSrEGnzy1EZaTi87JJ_lVpVKSs957UKcEQlK0bY1FWK5yziQODxveRV0YnOiuJuU72TDzRi9rvPnlcixQqFsU_W9rRlXkVRVCrzHpOG1vA40pXm7LpPUFsaoN3lje3_Lsnr9n78GXSZg7hzZIY26z4718UDbMhDttg5l11Ire1S7e7jfxdnLrl8lpdiEU5KV5GB1QtJsqiyiGzcIdsUdRo8DesBEDQLXEb3m3CPV8L_1cW_OIfBgw_KYlnan6QkRiiKAiNDfWvYZZ8ruSsqhQM9A","UiLocales":null,"Nonce":"636813662972818720.ZWJiOTE4NDItOGVmNy00ZjQzLTlmMTYtNDczMmNjYTgwMDY1Y2YzNDNmYmItMTY5ZS00MWU1LTk1M2UtZTFiNmJmMTkzY2Yw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813662972818720.ZWJiOTE4NDItOGVmNy00ZjQzLTlmMTYtNDczMmNjYTgwMDY1Y2YzNDNmYmItMTY5ZS00MWU1LTk1M2UtZTFiNmJmMTkzY2Yw","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95u-1HClPd9uylndZU7-JXdSrEGnzy1EZaTi87JJ_lVpVKSs957UKcEQlK0bY1FWK5yziQODxveRV0YnOiuJuU72TDzRi9rvPnlcixQqFsU_W9rRlXkVRVCrzHpOG1vA40pXm7LpPUFsaoN3lje3_Lsnr9n78GXSZg7hzZIY26z4718UDbMhDttg5l11Ire1S7e7jfxdnLrl8lpdiEU5KV5GB1QtJsqiyiGzcIdsUdRo8DesBEDQLXEb3m3CPV8L_1cW_OIfBgw_KYlnan6QkRiiKAiNDfWvYZZ8ruSsqhQM9A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:24:57.604 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 23:24:57.638 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:24:57.649 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:57.649 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:24:57.654 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:57.656 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:57.660 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:24:57.661 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:24:57.661 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:24:57.673 +03:00 [DBG] northwind found in database: true
2018-12-25 23:24:57.673 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:03.752 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:25:03.790 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:25:03.803 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:03.803 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:03.808 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:03.810 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:03.813 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:03.815 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:03.815 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:25:03.844 +03:00 [WRN] User bfc4cede-28b3-4f81-8862-06861a313cec cannot sign in without a confirmed email.
2018-12-25 23:25:03.845 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:25:03.854 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:03.855 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:03.858 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:03.859 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:03.862 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:03.864 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:03.864 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:25:03.873 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:03.873 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:08.965 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:25:08.967 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:25:08.978 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:08.979 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:08.982 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:08.983 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:08.987 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:08.989 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:08.989 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:25:08.992 +03:00 [WRN] User bfc4cede-28b3-4f81-8862-06861a313cec cannot sign in without a confirmed email.
2018-12-25 23:25:08.992 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:25:09.002 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:09.003 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:09.006 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:09.009 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:09.012 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:09.014 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:09.014 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:25:09.027 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:09.027 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:20.279 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:25:20.280 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:25:20.293 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:20.293 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:20.298 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:20.300 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:20.303 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:20.304 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:20.305 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:25:20.307 +03:00 [WRN] User bfc4cede-28b3-4f81-8862-06861a313cec cannot sign in without a confirmed email.
2018-12-25 23:25:20.308 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:25:20.317 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:20.317 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:25:20.320 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:20.321 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:20.324 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:25:20.327 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:25:20.327 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:25:20.339 +03:00 [DBG] northwind found in database: true
2018-12-25 23:25:20.339 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:44:53.913 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 23:44:53.975 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 23:44:53.975 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 23:44:53.975 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 23:44:53.975 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 23:44:53.975 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 23:44:53.975 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 23:44:59.888 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 23:44:59.890 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 23:44:59.890 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 23:44:59.890 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 23:44:59.890 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 23:44:59.890 +03:00 [DBG] Error Url: /home/error
2018-12-25 23:44:59.890 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 23:45:00.136 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:00.815 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:00.828 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:00.912 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:01.034 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:01.049 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:01.051 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:01.065 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:01.252 +03:00 [WRN] User bfc4cede-28b3-4f81-8862-06861a313cec cannot sign in without a confirmed email.
2018-12-25 23:45:01.258 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:01.270 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:01.270 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:01.274 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:01.276 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:01.278 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:01.280 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:01.280 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:01.293 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:01.293 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:04.464 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:45:04.469 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:04.483 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:04.484 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:04.488 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:04.492 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:04.496 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:04.498 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:04.498 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:04.540 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:04.540 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:04.548 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 23:45:04.552 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 23:45:04.553 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 23:45:04.559 +03:00 [DBG] Start authorize callback request
2018-12-25 23:45:04.569 +03:00 [DBG] No user present in authorize request
2018-12-25 23:45:04.569 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:04.579 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:04.579 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:04.582 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:04.584 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:04.586 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:04.589 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:04.589 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:04.602 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95u-1HClPd9uylndZU7-JXdSrEGnzy1EZaTi87JJ_lVpVKSs957UKcEQlK0bY1FWK5yziQODxveRV0YnOiuJuU72TDzRi9rvPnlcixQqFsU_W9rRlXkVRVCrzHpOG1vA40pXm7LpPUFsaoN3lje3_Lsnr9n78GXSZg7hzZIY26z4718UDbMhDttg5l11Ire1S7e7jfxdnLrl8lpdiEU5KV5GB1QtJsqiyiGzcIdsUdRo8DesBEDQLXEb3m3CPV8L_1cW_OIfBgw_KYlnan6QkRiiKAiNDfWvYZZ8ruSsqhQM9A","UiLocales":null,"Nonce":"636813662972818720.ZWJiOTE4NDItOGVmNy00ZjQzLTlmMTYtNDczMmNjYTgwMDY1Y2YzNDNmYmItMTY5ZS00MWU1LTk1M2UtZTFiNmJmMTkzY2Yw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813662972818720.ZWJiOTE4NDItOGVmNy00ZjQzLTlmMTYtNDczMmNjYTgwMDY1Y2YzNDNmYmItMTY5ZS00MWU1LTk1M2UtZTFiNmJmMTkzY2Yw","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95u-1HClPd9uylndZU7-JXdSrEGnzy1EZaTi87JJ_lVpVKSs957UKcEQlK0bY1FWK5yziQODxveRV0YnOiuJuU72TDzRi9rvPnlcixQqFsU_W9rRlXkVRVCrzHpOG1vA40pXm7LpPUFsaoN3lje3_Lsnr9n78GXSZg7hzZIY26z4718UDbMhDttg5l11Ire1S7e7jfxdnLrl8lpdiEU5KV5GB1QtJsqiyiGzcIdsUdRo8DesBEDQLXEb3m3CPV8L_1cW_OIfBgw_KYlnan6QkRiiKAiNDfWvYZZ8ruSsqhQM9A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:45:04.611 +03:00 [INF] Error: User denied consent
2018-12-25 23:45:04.614 +03:00 [INF] {"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95u-1HClPd9uylndZU7-JXdSrEGnzy1EZaTi87JJ_lVpVKSs957UKcEQlK0bY1FWK5yziQODxveRV0YnOiuJuU72TDzRi9rvPnlcixQqFsU_W9rRlXkVRVCrzHpOG1vA40pXm7LpPUFsaoN3lje3_Lsnr9n78GXSZg7hzZIY26z4718UDbMhDttg5l11Ire1S7e7jfxdnLrl8lpdiEU5KV5GB1QtJsqiyiGzcIdsUdRo8DesBEDQLXEb3m3CPV8L_1cW_OIfBgw_KYlnan6QkRiiKAiNDfWvYZZ8ruSsqhQM9A","UiLocales":null,"Nonce":"636813662972818720.ZWJiOTE4NDItOGVmNy00ZjQzLTlmMTYtNDczMmNjYTgwMDY1Y2YzNDNmYmItMTY5ZS00MWU1LTk1M2UtZTFiNmJmMTkzY2Yw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813662972818720.ZWJiOTE4NDItOGVmNy00ZjQzLTlmMTYtNDczMmNjYTgwMDY1Y2YzNDNmYmItMTY5ZS00MWU1LTk1M2UtZTFiNmJmMTkzY2Yw","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95u-1HClPd9uylndZU7-JXdSrEGnzy1EZaTi87JJ_lVpVKSs957UKcEQlK0bY1FWK5yziQODxveRV0YnOiuJuU72TDzRi9rvPnlcixQqFsU_W9rRlXkVRVCrzHpOG1vA40pXm7LpPUFsaoN3lje3_Lsnr9n78GXSZg7hzZIY26z4718UDbMhDttg5l11Ire1S7e7jfxdnLrl8lpdiEU5KV5GB1QtJsqiyiGzcIdsUdRo8DesBEDQLXEb3m3CPV8L_1cW_OIfBgw_KYlnan6QkRiiKAiNDfWvYZZ8ruSsqhQM9A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:45:11.049 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:11.059 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:11.059 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:11.064 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:11.066 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:11.071 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:11.073 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:11.073 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:11.091 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:11.091 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:13.404 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 23:45:13.405 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 23:45:13.405 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 23:45:13.411 +03:00 [DBG] Start authorize request
2018-12-25 23:45:13.411 +03:00 [DBG] No user present in authorize request
2018-12-25 23:45:13.411 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:13.424 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:13.424 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:13.428 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:13.430 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:13.441 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:13.443 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:13.443 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:13.444 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sy91rlGi6b0yTixIvJfCY4GMytPeBCcsEmL1HUHUVdpFxdVfiwja8IuRLZFEz8S924G-VK89EB9JpNUP6BogcCNf0Cpp044vyYwAfgkYkTtyId4n3_CePJ-NrtCrEnAthXJTHxuy3QyIVTLi1j3WEp8i9nyB-w6ikoUyuWGkMw7cXNyFmEovFlohTITLBkXxgcjISKCMj8wlQ91RHfgHOdXsVYhCdRDqM9l9ZhmiF1twQQ-_6EA44Ik0nUzA3MIac6UCmS3OLnxT_AZMJK8gDMvxamAcbG0I0EEiM5TJTssg","UiLocales":null,"Nonce":"636813675133954880.OGQxYzUwODktZjZhZi00ODUyLTg0NTQtNDQ2M2YzNzI4M2M5ZTI4OTNkMjktZmVjOC00ZjQ0LTk1ZTEtYmQyMjI1ODRjNWUy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813675133954880.OGQxYzUwODktZjZhZi00ODUyLTg0NTQtNDQ2M2YzNzI4M2M5ZTI4OTNkMjktZmVjOC00ZjQ0LTk1ZTEtYmQyMjI1ODRjNWUy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sy91rlGi6b0yTixIvJfCY4GMytPeBCcsEmL1HUHUVdpFxdVfiwja8IuRLZFEz8S924G-VK89EB9JpNUP6BogcCNf0Cpp044vyYwAfgkYkTtyId4n3_CePJ-NrtCrEnAthXJTHxuy3QyIVTLi1j3WEp8i9nyB-w6ikoUyuWGkMw7cXNyFmEovFlohTITLBkXxgcjISKCMj8wlQ91RHfgHOdXsVYhCdRDqM9l9ZhmiF1twQQ-_6EA44Ik0nUzA3MIac6UCmS3OLnxT_AZMJK8gDMvxamAcbG0I0EEiM5TJTssg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:45:13.454 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 23:45:13.474 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:13.487 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:13.487 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:13.490 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:13.492 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:13.495 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:13.496 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:13.496 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:13.506 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:13.506 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:14.706 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:45:14.708 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:14.723 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:14.724 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:14.729 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:14.732 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:14.736 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:14.738 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:14.738 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:14.752 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:14.752 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:14.759 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 23:45:14.761 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 23:45:14.761 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 23:45:14.761 +03:00 [DBG] Start authorize callback request
2018-12-25 23:45:14.762 +03:00 [DBG] No user present in authorize request
2018-12-25 23:45:14.762 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:45:14.779 +03:00 [DBG] northwind found in database: true
2018-12-25 23:45:14.779 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:45:14.783 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:14.785 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:14.791 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:45:14.794 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:45:14.794 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:45:14.795 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sy91rlGi6b0yTixIvJfCY4GMytPeBCcsEmL1HUHUVdpFxdVfiwja8IuRLZFEz8S924G-VK89EB9JpNUP6BogcCNf0Cpp044vyYwAfgkYkTtyId4n3_CePJ-NrtCrEnAthXJTHxuy3QyIVTLi1j3WEp8i9nyB-w6ikoUyuWGkMw7cXNyFmEovFlohTITLBkXxgcjISKCMj8wlQ91RHfgHOdXsVYhCdRDqM9l9ZhmiF1twQQ-_6EA44Ik0nUzA3MIac6UCmS3OLnxT_AZMJK8gDMvxamAcbG0I0EEiM5TJTssg","UiLocales":null,"Nonce":"636813675133954880.OGQxYzUwODktZjZhZi00ODUyLTg0NTQtNDQ2M2YzNzI4M2M5ZTI4OTNkMjktZmVjOC00ZjQ0LTk1ZTEtYmQyMjI1ODRjNWUy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813675133954880.OGQxYzUwODktZjZhZi00ODUyLTg0NTQtNDQ2M2YzNzI4M2M5ZTI4OTNkMjktZmVjOC00ZjQ0LTk1ZTEtYmQyMjI1ODRjNWUy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sy91rlGi6b0yTixIvJfCY4GMytPeBCcsEmL1HUHUVdpFxdVfiwja8IuRLZFEz8S924G-VK89EB9JpNUP6BogcCNf0Cpp044vyYwAfgkYkTtyId4n3_CePJ-NrtCrEnAthXJTHxuy3QyIVTLi1j3WEp8i9nyB-w6ikoUyuWGkMw7cXNyFmEovFlohTITLBkXxgcjISKCMj8wlQ91RHfgHOdXsVYhCdRDqM9l9ZhmiF1twQQ-_6EA44Ik0nUzA3MIac6UCmS3OLnxT_AZMJK8gDMvxamAcbG0I0EEiM5TJTssg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:45:14.796 +03:00 [INF] Error: User denied consent
2018-12-25 23:45:14.796 +03:00 [INF] {"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95sy91rlGi6b0yTixIvJfCY4GMytPeBCcsEmL1HUHUVdpFxdVfiwja8IuRLZFEz8S924G-VK89EB9JpNUP6BogcCNf0Cpp044vyYwAfgkYkTtyId4n3_CePJ-NrtCrEnAthXJTHxuy3QyIVTLi1j3WEp8i9nyB-w6ikoUyuWGkMw7cXNyFmEovFlohTITLBkXxgcjISKCMj8wlQ91RHfgHOdXsVYhCdRDqM9l9ZhmiF1twQQ-_6EA44Ik0nUzA3MIac6UCmS3OLnxT_AZMJK8gDMvxamAcbG0I0EEiM5TJTssg","UiLocales":null,"Nonce":"636813675133954880.OGQxYzUwODktZjZhZi00ODUyLTg0NTQtNDQ2M2YzNzI4M2M5ZTI4OTNkMjktZmVjOC00ZjQ0LTk1ZTEtYmQyMjI1ODRjNWUy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813675133954880.OGQxYzUwODktZjZhZi00ODUyLTg0NTQtNDQ2M2YzNzI4M2M5ZTI4OTNkMjktZmVjOC00ZjQ0LTk1ZTEtYmQyMjI1ODRjNWUy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95sy91rlGi6b0yTixIvJfCY4GMytPeBCcsEmL1HUHUVdpFxdVfiwja8IuRLZFEz8S924G-VK89EB9JpNUP6BogcCNf0Cpp044vyYwAfgkYkTtyId4n3_CePJ-NrtCrEnAthXJTHxuy3QyIVTLi1j3WEp8i9nyB-w6ikoUyuWGkMw7cXNyFmEovFlohTITLBkXxgcjISKCMj8wlQ91RHfgHOdXsVYhCdRDqM9l9ZhmiF1twQQ-_6EA44Ik0nUzA3MIac6UCmS3OLnxT_AZMJK8gDMvxamAcbG0I0EEiM5TJTssg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:45:58.351 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 23:45:58.448 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 23:45:58.448 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 23:45:58.448 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 23:45:58.449 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 23:45:58.449 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 23:45:58.449 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 23:49:47.225 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 23:49:47.230 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 23:49:47.230 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 23:49:47.230 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 23:49:47.231 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 23:49:47.231 +03:00 [DBG] Error Url: /home/error
2018-12-25 23:49:47.231 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 23:49:47.553 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:49:48.408 +03:00 [DBG] northwind found in database: true
2018-12-25 23:49:48.436 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:49:48.633 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:49:48.773 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:49:48.789 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:49:48.791 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:49:48.802 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:49:48.818 +03:00 [DBG] northwind found in database: true
2018-12-25 23:49:48.818 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:49:52.095 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 23:49:52.102 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 23:49:52.103 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 23:49:52.108 +03:00 [DBG] Start authorize request
2018-12-25 23:49:52.116 +03:00 [DBG] No user present in authorize request
2018-12-25 23:49:52.117 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:49:52.134 +03:00 [DBG] northwind found in database: true
2018-12-25 23:49:52.134 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:49:52.138 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:49:52.142 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:49:52.146 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:49:52.150 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:49:52.150 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:49:52.166 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vMj3eCFuIx7ilyJcapdLa-sFmCgv8fy_LP5Bka82PttkJmyX87AUhMeFzVIcmyXNmLr09CegqRCNg1FM59EgVo_gkIKp5Hjd6RPu_6DmAT_MQ4IAZVINCvkV7n_9SJPTxqQRaIqZuRi26EsiUWAgrq-M8ibP3KA8pxdrWxBH24jC-QRemMp2Aor8_dNb0_05RUB1q6btu5KrF9sI_8cTeB_lz3TPtHxe6jTnzsItKxlLMjJnNf2bxkPFKYIyB2PnTVpHOenwf0DblA3mCncaRgtfc7otnklzc27IBbR4iRhA","UiLocales":null,"Nonce":"636813677920772110.YzkxOWJjN2QtZDFmYS00M2RmLTkwNTUtZmRlYWRlM2U2MThiZGM3MTZlOWYtNjA5Ni00ZDc1LWE2NmYtOTZkNGU1MjVjZmU2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813677920772110.YzkxOWJjN2QtZDFmYS00M2RmLTkwNTUtZmRlYWRlM2U2MThiZGM3MTZlOWYtNjA5Ni00ZDc1LWE2NmYtOTZkNGU1MjVjZmU2","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vMj3eCFuIx7ilyJcapdLa-sFmCgv8fy_LP5Bka82PttkJmyX87AUhMeFzVIcmyXNmLr09CegqRCNg1FM59EgVo_gkIKp5Hjd6RPu_6DmAT_MQ4IAZVINCvkV7n_9SJPTxqQRaIqZuRi26EsiUWAgrq-M8ibP3KA8pxdrWxBH24jC-QRemMp2Aor8_dNb0_05RUB1q6btu5KrF9sI_8cTeB_lz3TPtHxe6jTnzsItKxlLMjJnNf2bxkPFKYIyB2PnTVpHOenwf0DblA3mCncaRgtfc7otnklzc27IBbR4iRhA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:49:52.187 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 23:49:52.201 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:49:52.216 +03:00 [DBG] northwind found in database: true
2018-12-25 23:49:52.216 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:49:52.220 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:49:52.223 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:49:52.226 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:49:52.228 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:49:52.228 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:49:52.246 +03:00 [DBG] northwind found in database: true
2018-12-25 23:49:52.246 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:01.179 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:50:01.211 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:01.225 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:01.225 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:01.230 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:01.231 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:01.235 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:01.236 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:01.237 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:01.426 +03:00 [WRN] User 7575d865-ef43-48d9-9cb0-9e919bd53b2e cannot sign in without a confirmed email.
2018-12-25 23:50:01.431 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:01.444 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:01.444 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:01.447 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:01.449 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:01.453 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:01.455 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:01.455 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:01.467 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:01.467 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:08.571 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:50:08.573 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:08.590 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:08.591 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:08.596 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:08.598 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:08.602 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:08.604 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:08.605 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:08.608 +03:00 [WRN] User 7575d865-ef43-48d9-9cb0-9e919bd53b2e cannot sign in without a confirmed email.
2018-12-25 23:50:08.608 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:08.623 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:08.623 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:08.628 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:08.630 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:08.634 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:08.636 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:08.636 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:08.647 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:08.647 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:28.946 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:50:28.948 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:28.964 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:28.964 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:28.970 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:28.972 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:28.976 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:28.979 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:28.979 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:28.982 +03:00 [WRN] User bfc4cede-28b3-4f81-8862-06861a313cec cannot sign in without a confirmed email.
2018-12-25 23:50:28.982 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:28.993 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:28.993 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:28.997 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:28.999 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:29.001 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:29.002 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:29.003 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:29.012 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:29.012 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:38.932 +03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2018-12-25 23:50:38.991 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-25 23:50:38.991 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-25 23:50:38.991 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-25 23:50:38.991 +03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-25 23:50:38.991 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-25 23:50:38.991 +03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-25 23:50:53.361 +03:00 [DBG] Login Url: /Account/Login
2018-12-25 23:50:53.366 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-25 23:50:53.366 +03:00 [DBG] Logout Url: /Account/Logout
2018-12-25 23:50:53.366 +03:00 [DBG] ConsentUrl Url: /consent
2018-12-25 23:50:53.366 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-25 23:50:53.366 +03:00 [DBG] Error Url: /home/error
2018-12-25 23:50:53.366 +03:00 [DBG] Error Id Parameter: errorId
2018-12-25 23:50:53.673 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:54.652 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:54.663 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:54.753 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:54.880 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:54.896 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:54.898 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:54.911 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:54.925 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:54.925 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:55.724 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 23:50:55.730 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 23:50:55.730 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 23:50:55.735 +03:00 [DBG] Start authorize request
2018-12-25 23:50:55.742 +03:00 [DBG] No user present in authorize request
2018-12-25 23:50:55.742 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:55.759 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:55.759 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:55.768 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:55.771 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:55.775 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:55.777 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:55.777 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:55.791 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95vTG_tEPDBw9Ro7ZeAIVNTtBE4jtuBRBEaZHmrWnK6nYuB8CIlpFjewkhcI82znOUQUT0FsyrRrVtyuBLugtxUQ37MoQaftBi13dpXldHHAecn2abqm5QPhU4KvIPWzEUQqIAe8c3vz49UOm3Ia8Phvrv4TOLD1FYzZqu-WuFjWB1ngYtlR06EiUm-0H8QBWDJFFYcr091EGrRjg_1MkXHT508FbUEORkVeyH0etyxAZEuMsBkbJLVlXRoxNbr_6q0McpANy25n7Oiv2QPnRCHLfRs1MbU9_7sV_B15i9IRyg","UiLocales":null,"Nonce":"636813678557069200.NTAwMzQ3OWMtMGE3MC00YzdkLWEyZmYtMWYwYzdjZDZhZTVmNTkzMjc1NTItMDY4Mi00NDY5LWIxM2EtNjc0MjMzMDk0M2Q1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813678557069200.NTAwMzQ3OWMtMGE3MC00YzdkLWEyZmYtMWYwYzdjZDZhZTVmNTkzMjc1NTItMDY4Mi00NDY5LWIxM2EtNjc0MjMzMDk0M2Q1","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95vTG_tEPDBw9Ro7ZeAIVNTtBE4jtuBRBEaZHmrWnK6nYuB8CIlpFjewkhcI82znOUQUT0FsyrRrVtyuBLugtxUQ37MoQaftBi13dpXldHHAecn2abqm5QPhU4KvIPWzEUQqIAe8c3vz49UOm3Ia8Phvrv4TOLD1FYzZqu-WuFjWB1ngYtlR06EiUm-0H8QBWDJFFYcr091EGrRjg_1MkXHT508FbUEORkVeyH0etyxAZEuMsBkbJLVlXRoxNbr_6q0McpANy25n7Oiv2QPnRCHLfRs1MbU9_7sV_B15i9IRyg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:50:55.808 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 23:50:55.822 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:50:55.835 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:55.835 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:50:55.840 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:55.842 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:55.845 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:50:55.847 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:50:55.847 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:50:55.859 +03:00 [DBG] northwind found in database: true
2018-12-25 23:50:55.859 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:51:00.432 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:51:00.464 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:51:00.475 +03:00 [DBG] northwind found in database: true
2018-12-25 23:51:00.475 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:51:00.478 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:51:00.480 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:51:00.483 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:51:00.485 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:51:00.485 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:51:00.671 +03:00 [WRN] User 7575d865-ef43-48d9-9cb0-9e919bd53b2e cannot sign in without a confirmed email.
2018-12-25 23:51:00.675 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:51:00.685 +03:00 [DBG] northwind found in database: true
2018-12-25 23:51:00.686 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:51:00.689 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:51:00.691 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:51:00.694 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:51:00.695 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:51:00.695 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:51:00.705 +03:00 [DBG] northwind found in database: true
2018-12-25 23:51:00.705 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:55:36.718 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:55:36.721 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:55:36.732 +03:00 [DBG] northwind found in database: true
2018-12-25 23:55:36.732 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:55:36.738 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:36.740 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:36.744 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:36.746 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:36.746 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:55:36.750 +03:00 [WRN] User 7575d865-ef43-48d9-9cb0-9e919bd53b2e cannot sign in without a confirmed email.
2018-12-25 23:55:36.750 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:55:36.763 +03:00 [DBG] northwind found in database: true
2018-12-25 23:55:36.764 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:55:36.768 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:36.771 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:36.775 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:36.778 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:36.779 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:55:36.798 +03:00 [DBG] northwind found in database: true
2018-12-25 23:55:36.798 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:55:59.318 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-25 23:55:59.319 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-25 23:55:59.319 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-25 23:55:59.320 +03:00 [DBG] Start authorize request
2018-12-25 23:55:59.320 +03:00 [DBG] No user present in authorize request
2018-12-25 23:55:59.320 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:55:59.333 +03:00 [DBG] northwind found in database: true
2018-12-25 23:55:59.333 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:55:59.337 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:59.340 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:59.344 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:59.345 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:59.346 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:55:59.346 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tTlgNkH3czGhjTAH8nmIy9-Vy1fQNf5N0P5SUXhDZBQF3krdeKfVc1c2IK_y0pmLOpejTBb9keE3DRiXuO74K7_coze1CbbSuFJYsa9Bh9DvL_uztvY6XmVvsHYUWrqroD3dsjgzFmmUncsiritJQ6rKjIXTuPfh-hG5l1XMNUa6ODVjcL0VrfMxxPyGrI-X0ej3MWMGpLJBaJ0FTxeDDIc_ZoM9sCGX9m9DTM0BAQpF51zRNdElcFbthp4GJjWbFSGrDXJIqYCOUaXYug5ImbfRDJ_WD7cLTp5dWewH_zzw","UiLocales":null,"Nonce":"636813681593081740.NTBlYmM1OTQtMmI5MS00NjQxLWJhOGUtNTRlZTk3YWM0MTQ3NTFiYmNmYmUtZWUwYy00NzQ5LTllMzEtYjM4MjI5NWU5ZWYy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813681593081740.NTBlYmM1OTQtMmI5MS00NjQxLWJhOGUtNTRlZTk3YWM0MTQ3NTFiYmNmYmUtZWUwYy00NzQ5LTllMzEtYjM4MjI5NWU5ZWYy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95tTlgNkH3czGhjTAH8nmIy9-Vy1fQNf5N0P5SUXhDZBQF3krdeKfVc1c2IK_y0pmLOpejTBb9keE3DRiXuO74K7_coze1CbbSuFJYsa9Bh9DvL_uztvY6XmVvsHYUWrqroD3dsjgzFmmUncsiritJQ6rKjIXTuPfh-hG5l1XMNUa6ODVjcL0VrfMxxPyGrI-X0ej3MWMGpLJBaJ0FTxeDDIc_ZoM9sCGX9m9DTM0BAQpF51zRNdElcFbthp4GJjWbFSGrDXJIqYCOUaXYug5ImbfRDJ_WD7cLTp5dWewH_zzw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:55:59.347 +03:00 [INF] Showing login: User is not authenticated
2018-12-25 23:55:59.356 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:55:59.370 +03:00 [DBG] northwind found in database: true
2018-12-25 23:55:59.370 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:55:59.374 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:59.376 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:59.380 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:55:59.383 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:55:59.383 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:55:59.395 +03:00 [DBG] northwind found in database: true
2018-12-25 23:55:59.395 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:56:06.843 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-25 23:56:06.844 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:56:06.855 +03:00 [DBG] northwind found in database: true
2018-12-25 23:56:06.855 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:56:06.859 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:56:06.861 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:56:06.863 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:56:06.865 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:56:06.865 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:56:07.002 +03:00 [DBG] Augmenting SignInContext
2018-12-25 23:56:07.004 +03:00 [DBG] Adding idp claim with value: local
2018-12-25 23:56:07.005 +03:00 [DBG] Adding amr claim with value: pwd
2018-12-25 23:56:07.005 +03:00 [DBG] Adding auth_time claim with value: 1545771367
2018-12-25 23:56:07.017 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-25 23:56:07.033 +03:00 [DBG] northwind found in database: true
2018-12-25 23:56:07.033 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:56:07.068 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-25 23:56:07.069 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-25 23:56:07.069 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-25 23:56:07.075 +03:00 [DBG] Start authorize callback request
2018-12-25 23:56:07.079 +03:00 [DBG] User in authorize request: bfc4cede-28b3-4f81-8862-06861a313cec
2018-12-25 23:56:07.079 +03:00 [DBG] Start authorize request protocol validation
2018-12-25 23:56:07.090 +03:00 [DBG] northwind found in database: true
2018-12-25 23:56:07.091 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-25 23:56:07.094 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:56:07.096 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:56:07.099 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-25 23:56:07.101 +03:00 [DBG] Found [] API scopes in database
2018-12-25 23:56:07.101 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-25 23:56:07.101 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"bfc4cede-28b3-4f81-8862-06861a313cec","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tTlgNkH3czGhjTAH8nmIy9-Vy1fQNf5N0P5SUXhDZBQF3krdeKfVc1c2IK_y0pmLOpejTBb9keE3DRiXuO74K7_coze1CbbSuFJYsa9Bh9DvL_uztvY6XmVvsHYUWrqroD3dsjgzFmmUncsiritJQ6rKjIXTuPfh-hG5l1XMNUa6ODVjcL0VrfMxxPyGrI-X0ej3MWMGpLJBaJ0FTxeDDIc_ZoM9sCGX9m9DTM0BAQpF51zRNdElcFbthp4GJjWbFSGrDXJIqYCOUaXYug5ImbfRDJ_WD7cLTp5dWewH_zzw","UiLocales":null,"Nonce":"636813681593081740.NTBlYmM1OTQtMmI5MS00NjQxLWJhOGUtNTRlZTk3YWM0MTQ3NTFiYmNmYmUtZWUwYy00NzQ5LTllMzEtYjM4MjI5NWU5ZWYy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"d0466c40be9185092ec7544720a479d3","Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813681593081740.NTBlYmM1OTQtMmI5MS00NjQxLWJhOGUtNTRlZTk3YWM0MTQ3NTFiYmNmYmUtZWUwYy00NzQ5LTllMzEtYjM4MjI5NWU5ZWYy","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95tTlgNkH3czGhjTAH8nmIy9-Vy1fQNf5N0P5SUXhDZBQF3krdeKfVc1c2IK_y0pmLOpejTBb9keE3DRiXuO74K7_coze1CbbSuFJYsa9Bh9DvL_uztvY6XmVvsHYUWrqroD3dsjgzFmmUncsiritJQ6rKjIXTuPfh-hG5l1XMNUa6ODVjcL0VrfMxxPyGrI-X0ej3MWMGpLJBaJ0FTxeDDIc_ZoM9sCGX9m9DTM0BAQpF51zRNdElcFbthp4GJjWbFSGrDXJIqYCOUaXYug5ImbfRDJ_WD7cLTp5dWewH_zzw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-25 23:56:07.133 +03:00 [DBG] Client is configured to not require consent, no consent is required
2018-12-25 23:56:07.144 +03:00 [DBG] Creating Implicit Flow response.
2018-12-25 23:56:07.156 +03:00 [DBG] Getting claims for identity token for subject: bfc4cede-28b3-4f81-8862-06861a313cec and client: northwind
2018-12-25 23:56:07.247 +03:00 [INF] Authorize endpoint response
{"SubjectId":"bfc4cede-28b3-4f81-8862-06861a313cec","ClientId":"northwind","RedirectUri":"https://localhost:5001/signin-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95tTlgNkH3czGhjTAH8nmIy9-Vy1fQNf5N0P5SUXhDZBQF3krdeKfVc1c2IK_y0pmLOpejTBb9keE3DRiXuO74K7_coze1CbbSuFJYsa9Bh9DvL_uztvY6XmVvsHYUWrqroD3dsjgzFmmUncsiritJQ6rKjIXTuPfh-hG5l1XMNUa6ODVjcL0VrfMxxPyGrI-X0ej3MWMGpLJBaJ0FTxeDDIc_ZoM9sCGX9m9DTM0BAQpF51zRNdElcFbthp4GJjWbFSGrDXJIqYCOUaXYug5ImbfRDJ_WD7cLTp5dWewH_zzw","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2018-12-25 23:56:07.269 +03:00 [DBG] Augmenting SignInContext
2018-12-25 23:56:07.270 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-26 00:25:48.850 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-12-26 00:25:48.855 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-12-26 00:25:48.855 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-12-26 00:25:48.865 +03:00 [DBG] Processing signout request for bfc4cede-28b3-4f81-8862-06861a313cec
2018-12-26 00:25:48.873 +03:00 [DBG] Start end session request validation
2018-12-26 00:25:48.880 +03:00 [DBG] Start identity token validation
2018-12-26 00:25:48.967 +03:00 [DBG] northwind found in database: true
2018-12-26 00:25:48.967 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 00:25:48.967 +03:00 [DBG] Client found: northwind / Northwind Web
2018-12-26 00:25:49.049 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-12-26 00:25:49.050 +03:00 [DBG] Token validation success
{"ClientId":"northwind","ClientName":"Northwind Web","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1545771367,"exp":1545771667,"iss":"https://localhost:5011","aud":"northwind","nonce":"636813681593081740.NTBlYmM1OTQtMmI5MS00NjQxLWJhOGUtNTRlZTk3YWM0MTQ3NTFiYmNmYmUtZWUwYy00NzQ5LTllMzEtYjM4MjI5NWU5ZWYy","iat":1545771367,"sid":"d0466c40be9185092ec7544720a479d3","sub":"bfc4cede-28b3-4f81-8862-06861a313cec","auth_time":1545771367,"idp":"local","preferred_username":"ilia_syrtsou@epam.com","name":"ilia_syrtsou@epam.com","amr":"pwd"},"$type":"TokenValidationLog"}
2018-12-26 00:25:49.055 +03:00 [INF] End session request validation success
{"ClientId":"northwind","ClientName":"Northwind Web","SubjectId":"bfc4cede-28b3-4f81-8862-06861a313cec","PostLogOutUri":"https://localhost:5001/signout-callback-oidc","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95uwXY3faEZ_HQK5tYyxcr2rCgTnMnu3iXiNtRgmIEzB3eo7yp52IpKarEEgPXB-KNl4SNeTuY62r5VdJuK_cv5YXElAOK5PCrbkNsAtu5JoaseBcQfhr21TuJawjkeROQg","Raw":{"post_logout_redirect_uri":"https://localhost:5001/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1NzgzMmVhMjM4ODg2MTlmYmIzYmNjODkyZDIwNzRlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NDU3NzEzNjcsImV4cCI6MTU0NTc3MTY2NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAxMSIsImF1ZCI6Im5vcnRod2luZCIsIm5vbmNlIjoiNjM2ODEzNjgxNTkzMDgxNzQwLk5UQmxZbU0xT1RRdE1tSTVNUzAwTmpReExXSmhPR1V0TlRSbFpUazNZV00wTVRRM05URmlZbU5tWW1VdFpXVXdZeTAwTnpRNUxUbGxNekV0WWpNNE1qSTVOV1U1WldZeSIsImlhdCI6MTU0NTc3MTM2Nywic2lkIjoiZDA0NjZjNDBiZTkxODUwOTJlYzc1NDQ3MjBhNDc5ZDMiLCJzdWIiOiJiZmM0Y2VkZS0yOGIzLTRmODEtODg2Mi0wNjg2MWEzMTNjZWMiLCJhdXRoX3RpbWUiOjE1NDU3NzEzNjcsImlkcCI6ImxvY2FsIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiaWxpYV9zeXJ0c291QGVwYW0uY29tIiwibmFtZSI6ImlsaWFfc3lydHNvdUBlcGFtLmNvbSIsImFtciI6WyJwd2QiXX0.VeeodxMxdqi9bYqTToDHkwwxQL6MHWUfrAAdALiGCR1fTP3I4Rox7Pt5AcO040nurvr2NiX-DLizCoKH3QNUALF_-LMY0fDCd760jVsyZMgyV_XH63DkslmmJJe7FPeb5UBqX-f4uSfLuJR2X_ABkLn0Apti7kPwp-gCukyrYC1tIP7RUTOvkejehjURhiAF5s-GGfO7nmwA-WvjbwOQ2i-MELdaZkYwtpRlyQq_imeYQtxY3EgfpPIq7rmTfHI3v17xnaA3TiU6Gg2_wpuVRVEV3Yx8_WMFskLgU4Crbvg-JLY1AxOFGqhM9M59umpBoHFfgWADqrPu2kfNp7r55g","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95uwXY3faEZ_HQK5tYyxcr2rCgTnMnu3iXiNtRgmIEzB3eo7yp52IpKarEEgPXB-KNl4SNeTuY62r5VdJuK_cv5YXElAOK5PCrbkNsAtu5JoaseBcQfhr21TuJawjkeROQg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2018-12-26 00:25:49.057 +03:00 [DBG] Success validating end session request from northwind
2018-12-26 00:25:49.124 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-12-26 00:25:49.125 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-26 00:25:49.125 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-12-26 00:25:49.226 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-12-26 00:25:49.229 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-12-26 00:25:49.230 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-12-26 00:25:49.235 +03:00 [DBG] Processing signout callback request
2018-12-26 00:25:49.267 +03:00 [DBG] northwind found in database: true
2018-12-26 00:25:49.267 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 00:25:49.267 +03:00 [DBG] No client front-channel logout URLs
2018-12-26 00:25:49.267 +03:00 [DBG] No client back-channel logout URLs
2018-12-26 00:25:49.267 +03:00 [INF] Successful signout callback.
2018-12-26 00:25:49.268 +03:00 [DBG] No client front-channel iframe urls
2018-12-26 00:25:49.268 +03:00 [DBG] No client back-channel iframe urls
2018-12-26 00:25:51.901 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-12-26 00:25:51.901 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-12-26 00:25:51.901 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-12-26 00:25:51.902 +03:00 [DBG] Start authorize request
2018-12-26 00:25:51.902 +03:00 [DBG] No user present in authorize request
2018-12-26 00:25:51.902 +03:00 [DBG] Start authorize request protocol validation
2018-12-26 00:25:51.913 +03:00 [DBG] northwind found in database: true
2018-12-26 00:25:51.913 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 00:25:51.919 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 00:25:51.922 +03:00 [DBG] Found [] API scopes in database
2018-12-26 00:25:51.925 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 00:25:51.926 +03:00 [DBG] Found [] API scopes in database
2018-12-26 00:25:51.927 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-26 00:25:51.927 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95swmMDmGDY8W9kj-Wd2PMA7SfF42KnukpjOIk4MVacT856f5p43jzjQ9qHA3rMNidu3bAgbX7sqqLCuI1dceAoQmw_DzLc9TouUOBfTmig_lUfL15VCy7qBB7u1RwVjUCv4wQlJhZUVlBPaMHeBZuZ9mzbEzw5TOtJAkMRAqer8KF5Gjey3OAl2SFv2CTw5op3eiFFEKkcb7LhBZqjrj1xP1pRddOlGP1p-c_ynMb66HTlSrvOsoUP4qTCFATB1aXbqEncMwp2SnKWHmLHkNGNivqqy090TVGsHl3AiJSJ6nA","UiLocales":null,"Nonce":"636813699518891690.MzM0NzYxNzItYjJhNy00MWUzLTk3YjUtZmMwNmIxZTY2ZDQxYzkzZDJlMTItODBmYS00NzBkLTg1YmMtNzgxZWQyNzhjNDVh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813699518891690.MzM0NzYxNzItYjJhNy00MWUzLTk3YjUtZmMwNmIxZTY2ZDQxYzkzZDJlMTItODBmYS00NzBkLTg1YmMtNzgxZWQyNzhjNDVh","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95swmMDmGDY8W9kj-Wd2PMA7SfF42KnukpjOIk4MVacT856f5p43jzjQ9qHA3rMNidu3bAgbX7sqqLCuI1dceAoQmw_DzLc9TouUOBfTmig_lUfL15VCy7qBB7u1RwVjUCv4wQlJhZUVlBPaMHeBZuZ9mzbEzw5TOtJAkMRAqer8KF5Gjey3OAl2SFv2CTw5op3eiFFEKkcb7LhBZqjrj1xP1pRddOlGP1p-c_ynMb66HTlSrvOsoUP4qTCFATB1aXbqEncMwp2SnKWHmLHkNGNivqqy090TVGsHl3AiJSJ6nA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-26 00:25:51.928 +03:00 [INF] Showing login: User is not authenticated
2018-12-26 00:25:51.934 +03:00 [DBG] Start authorize request protocol validation
2018-12-26 00:25:51.947 +03:00 [DBG] northwind found in database: true
2018-12-26 00:25:51.947 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 00:25:51.951 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 00:25:51.953 +03:00 [DBG] Found [] API scopes in database
2018-12-26 00:25:51.956 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 00:25:51.958 +03:00 [DBG] Found [] API scopes in database
2018-12-26 00:25:51.958 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-26 00:25:51.969 +03:00 [DBG] northwind found in database: true
2018-12-26 00:25:51.969 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 08:35:46.174 +03:00 [WRN] Heartbeat took longer than ""00:00:01"" at ""2018-12-26T05:35:45.7329040+00:00"".
2018-12-26 08:48:52.899 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-12-26 08:48:53.060 +03:00 [DBG] Start authorize request protocol validation
2018-12-26 08:48:53.470 +03:00 [DBG] northwind found in database: true
2018-12-26 08:48:53.470 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 08:48:53.520 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 08:48:53.544 +03:00 [DBG] Found [] API scopes in database
2018-12-26 08:48:53.560 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 08:48:53.565 +03:00 [DBG] Found [] API scopes in database
2018-12-26 08:48:53.566 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-26 08:48:53.736 +03:00 [DBG] northwind found in database: true
2018-12-26 08:48:53.737 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 08:48:53.755 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-12-26 08:48:53.762 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-12-26 08:48:53.762 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-12-26 08:48:53.762 +03:00 [DBG] Start authorize callback request
2018-12-26 08:48:53.776 +03:00 [DBG] No user present in authorize request
2018-12-26 08:48:53.776 +03:00 [DBG] Start authorize request protocol validation
2018-12-26 08:48:53.820 +03:00 [DBG] northwind found in database: true
2018-12-26 08:48:53.820 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 08:48:53.831 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 08:48:53.836 +03:00 [DBG] Found [] API scopes in database
2018-12-26 08:48:53.845 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 08:48:53.851 +03:00 [DBG] Found [] API scopes in database
2018-12-26 08:48:53.851 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-26 08:48:53.853 +03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95swmMDmGDY8W9kj-Wd2PMA7SfF42KnukpjOIk4MVacT856f5p43jzjQ9qHA3rMNidu3bAgbX7sqqLCuI1dceAoQmw_DzLc9TouUOBfTmig_lUfL15VCy7qBB7u1RwVjUCv4wQlJhZUVlBPaMHeBZuZ9mzbEzw5TOtJAkMRAqer8KF5Gjey3OAl2SFv2CTw5op3eiFFEKkcb7LhBZqjrj1xP1pRddOlGP1p-c_ynMb66HTlSrvOsoUP4qTCFATB1aXbqEncMwp2SnKWHmLHkNGNivqqy090TVGsHl3AiJSJ6nA","UiLocales":null,"Nonce":"636813699518891690.MzM0NzYxNzItYjJhNy00MWUzLTk3YjUtZmMwNmIxZTY2ZDQxYzkzZDJlMTItODBmYS00NzBkLTg1YmMtNzgxZWQyNzhjNDVh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813699518891690.MzM0NzYxNzItYjJhNy00MWUzLTk3YjUtZmMwNmIxZTY2ZDQxYzkzZDJlMTItODBmYS00NzBkLTg1YmMtNzgxZWQyNzhjNDVh","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95swmMDmGDY8W9kj-Wd2PMA7SfF42KnukpjOIk4MVacT856f5p43jzjQ9qHA3rMNidu3bAgbX7sqqLCuI1dceAoQmw_DzLc9TouUOBfTmig_lUfL15VCy7qBB7u1RwVjUCv4wQlJhZUVlBPaMHeBZuZ9mzbEzw5TOtJAkMRAqer8KF5Gjey3OAl2SFv2CTw5op3eiFFEKkcb7LhBZqjrj1xP1pRddOlGP1p-c_ynMb66HTlSrvOsoUP4qTCFATB1aXbqEncMwp2SnKWHmLHkNGNivqqy090TVGsHl3AiJSJ6nA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-26 08:48:53.882 +03:00 [INF] Error: User denied consent
2018-12-26 08:48:53.897 +03:00 [INF] {"ClientId":"northwind","ClientName":"Northwind Web","RedirectUri":"https://localhost:5001/signin-oidc","AllowedRedirectUris":["https://localhost:5001/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8BoFGYhXiBhPoq8QuZNE95swmMDmGDY8W9kj-Wd2PMA7SfF42KnukpjOIk4MVacT856f5p43jzjQ9qHA3rMNidu3bAgbX7sqqLCuI1dceAoQmw_DzLc9TouUOBfTmig_lUfL15VCy7qBB7u1RwVjUCv4wQlJhZUVlBPaMHeBZuZ9mzbEzw5TOtJAkMRAqer8KF5Gjey3OAl2SFv2CTw5op3eiFFEKkcb7LhBZqjrj1xP1pRddOlGP1p-c_ynMb66HTlSrvOsoUP4qTCFATB1aXbqEncMwp2SnKWHmLHkNGNivqqy090TVGsHl3AiJSJ6nA","UiLocales":null,"Nonce":"636813699518891690.MzM0NzYxNzItYjJhNy00MWUzLTk3YjUtZmMwNmIxZTY2ZDQxYzkzZDJlMTItODBmYS00NzBkLTg1YmMtNzgxZWQyNzhjNDVh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"northwind","redirect_uri":"https://localhost:5001/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636813699518891690.MzM0NzYxNzItYjJhNy00MWUzLTk3YjUtZmMwNmIxZTY2ZDQxYzkzZDJlMTItODBmYS00NzBkLTg1YmMtNzgxZWQyNzhjNDVh","state":"CfDJ8BoFGYhXiBhPoq8QuZNE95swmMDmGDY8W9kj-Wd2PMA7SfF42KnukpjOIk4MVacT856f5p43jzjQ9qHA3rMNidu3bAgbX7sqqLCuI1dceAoQmw_DzLc9TouUOBfTmig_lUfL15VCy7qBB7u1RwVjUCv4wQlJhZUVlBPaMHeBZuZ9mzbEzw5TOtJAkMRAqer8KF5Gjey3OAl2SFv2CTw5op3eiFFEKkcb7LhBZqjrj1xP1pRddOlGP1p-c_ynMb66HTlSrvOsoUP4qTCFATB1aXbqEncMwp2SnKWHmLHkNGNivqqy090TVGsHl3AiJSJ6nA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2018-12-26 08:49:07.490 +03:00 [DBG] Start authorize request protocol validation
2018-12-26 08:49:07.545 +03:00 [DBG] northwind found in database: true
2018-12-26 08:49:07.546 +03:00 [DBG] client configuration validation for client northwind succeeded.
2018-12-26 08:49:07.568 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 08:49:07.576 +03:00 [DBG] Found [] API scopes in database
2018-12-26 08:49:07.587 +03:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-12-26 08:49:07.593 +03:00 [DBG] Found [] API scopes in database
2018-12-26 08:49:07.614 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-12-26 08:49:07.690 +03:00 [DBG] northwind found in database: true
2018-12-26 08:49:07.693 +03:00 [DBG] client configuration validation for client northwind succeeded.
